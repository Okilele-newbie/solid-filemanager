(this["webpackJsonpsolid-filemanager"]=this["webpackJsonpsolid-filemanager"]||[]).push([[0],{220:function(e,t,n){},352:function(e,t,n){},395:function(e,t,n){e.exports=n(817)},427:function(e,t){},429:function(e,t){},436:function(e,t){},438:function(e,t){},526:function(e,t){},527:function(e,t){},588:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=588},609:function(e,t){},611:function(e,t,n){var a={"./N3Lexer":199,"./N3Lexer.js":199,"./N3Parser":200,"./N3Parser.js":200,"./N3Store":307,"./N3Store.js":307,"./N3StreamParser":308,"./N3StreamParser.js":308,"./N3StreamWriter":309,"./N3StreamWriter.js":309,"./N3Util":201,"./N3Util.js":201,"./N3Writer":202,"./N3Writer.js":202};function r(e){var t=c(e);return n(t)}function c(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=c,e.exports=r,r.id=611},736:function(e,t,n){},737:function(e,t,n){},738:function(e,t,n){},739:function(e,t,n){},766:function(e,t,n){},772:function(e,t,n){},798:function(e,t,n){},806:function(e,t,n){},815:function(e,t,n){},817:function(e,t,n){"use strict";n.r(t);var a,r=n(0),c=n.n(r),i=n(47),o=n.n(i),l=n(363),u=n(5),s=n(94),f=n(39);!function(e){e.CHOOSE_LOCATION="CHOOSE_LOCATION",e.CREATE_FOLDER="CREATE_FOLDER",e.CREATE_FILE="CREATE_FILE",e.UPLOAD_FILE="UPLOAD_FILE",e.RENAME="RENAME",e.EDITTAGS="EDITTAGS",e.MOVE="MOVE",e.COPY="COPY",e.CONTENT="CONTENT",e.MEDIA="MEDIA",e.EDIT="EDIT",e.CONTEXT_MENU="CONTEXT_MENU"}(a||(a={}));var h=null,p={getHost:function(){return h},setHost:function(e){for(h=e;h.endsWith("/");)h=h.slice(0,-1)}};function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v={loggedIn:!1,host:null,webId:null};function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g=Object.values(a).map((function(e){return Object(f.a)({},e,!1)})).reduce((function(e,t){return E({},e,{},t)})),y={open:!1,x:0,y:0},O=n(34);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var C={inCurFolder:[],filter:"",selected:[]},w=function(e,t){return e.filter((function(e){return!e.equals(t)}))},x=function(e,t){return[].concat(Object(O.a)(e),[t])};function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var L={inCurFolder:[],filter:"",selected:[]},N=[];function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P={fileList:null,progress:0},M=Object(s.c)({account:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LOGGED_IN":return m({},e,{loggedIn:!0});case"SET_LOGGED_OUT":return m({},e,{loggedIn:!1});case"SET_HOST":return p.setHost(t.value),m({},e,{host:t.value});case"RESET_HOST":return m({},e,{host:null});case"SET_WEB_ID":return m({},e,{webId:t.value});case"RESET_WEB_ID":return m({},e,{webId:null});default:return e}},blob:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LOADED_BLOB":return URL.createObjectURL(t.value);case"RESET_LOADED_BLOB":return null!==e&&URL.revokeObjectURL(e),null;default:return e}},contextMenu:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_CONTEXT_MENU":return E({},e,{open:!0,x:t.value.x,y:t.value.y});case"CLOSE_CONTEXT_MENU":return E({},e,{open:!1});default:return e}},visibleDialogs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_DIALOG":return E({},e,Object(f.a)({},t.value,!0));case"CLOSE_DIALOG":return E({},e,Object(f.a)({},t.value,!1));default:return e}},errorMessage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ERROR_MESSAGE":return t.value;default:return e}},items:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ITEMS":return j({},e,{inCurFolder:t.value});case"SELECT_ITEMS":return j({},e,{selected:t.value});case"DESELECT_ITEM":return j({},e,{selected:w(e.selected,t.value)});case"TOGGLE_SELECTED_ITEM":return j({},e,{selected:e.selected.includes(t.value)?w(e.selected,t.value):x(e.selected,t.value)});case"FILTER_ITEMS":return j({},e,{filter:t.value});case"REMOVE_FILTER":return j({},e,{filter:""});default:return e}},loading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DISPLAY_LOADING":return!0;case"STOP_LOADING":return!1;default:return e}},path:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ENTER_FOLDER":return[].concat(Object(O.a)(e),[t.value]);case"MOVE_FOLDER_UPWARDS":return t.value>0?e.slice(0,-t.value):e;case"SET_PATH":return Object(O.a)(t.value);default:return e}},upload:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_UPLOAD_FILE_LIST":return D({},e,{fileList:t.value});case"SET_UPLOAD_FILE_PROGRESS":return D({},e,{progress:t.value});default:return e}},metas:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_METAS":return S({},e,{inCurFolder:t.value});default:return e}}}),_=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function R(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var U=n(8),A=n(9),F=n(12),B=n(11),H=n(13),W=n(168),G=n.n(W),V=n(3),q=n.n(V),z=n(10),Y=n(110),J=n(92),X=n.n(J),$=n(369),K=n.n($),Q=n(370),Z=n.n(Q),ee=n(64),te=n(412),ne=function(){function e(){Object(U.a)(this,e)}return Object(A.a)(e,null,[{key:"fileClientPopupLogin",value:function(){var e=Object(z.a)(q.a.mark((function e(){var t=this;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.popupLogin().then((function(e){var n=e.split("/card")[0];t.serverId=n,t.webId=e,console.log("Logged in as ".concat(e," on ").concat(n,"."))}),(function(e){return console.log("Error while loging"+e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"sleep",value:function(e){return new Promise((function(t){return setTimeout(t,e)}))}},{key:"loadUserIdAndHost",value:function(){var e=Object(z.a)(q.a.mark((function e(){var t,n,a,r;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==this.userIdAndHost.userId){e.next=14;break}t=p.getHost();case 2:if(null!==t){e.next=8;break}return e.next=5,this.sleep(1e3);case 5:t=p.getHost(),e.next=2;break;case 8:return e.next=10,ee.currentSession();case 10:n=e.sent,a="",n&&(r=new URL(n.webId),a=r.hostname),this.userIdAndHost={userId:a,baseUrl:t};case 14:return e.abrupt("return",this.userIdAndHost);case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"readFolder",value:function(){var e=Object(z.a)(q.a.mark((function e(t){var n,a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadUserIdAndHost();case 2:return n=e.sent,a={},e.next=6,te.readFolder(t).then((function(e){e.name=decodeURI(e.name),e.folders.forEach((function(e){e.name=decodeURI(e.name),e.folders=[]})),a=e}),(function(e){alert("User ".concat(n.userId," is not able to read folder ").concat(t," on Pod ").concat(n.baseUrl))}));case 6:return e.abrupt("return",a);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"readFileAsString",value:function(){var t=Object(z.a)(q.a.mark((function t(n,a){var r;return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="",t.next=3,te.readFile(n).then((function(e){r=e}),(function(t){console.log("Error when reading file ".concat(n,", returning blank")),a&&e.createFile(n)}));case 3:return t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"createFile",value:function(){var e=Object(z.a)(q.a.mark((function e(t){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:te.createFile(t).then((function(){return!0}),(function(e){return console.log("Error while creating file "+t)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateFile",value:function(){var e=Object(z.a)(q.a.mark((function e(t,n){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:te.updateFile(t,n).then((function(){return!0}),(function(e){return console.log("Error while updating file "+t)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();ne.serverId="",ne.webId="",ne.userIdAndHost={userId:"",baseUrl:""};var ae=n(53),re=n.n(ae),ce=n(56),ie=n.n(ce),oe=n(365),le=n.n(oe),ue=n(366),se=n.n(ue),fe=n(72),he=function(){function e(t,n){Object(U.a)(this,e),this._name=void 0,this._path=void 0,this._url=void 0,this._size=void 0;var a=be(t);this._name=a.pop()||"",this._path=a,this._url=t,this._size=n}return Object(A.a)(e,[{key:"equals",value:function(e){return this.name===e.name&&this.path.length===e.path.length&&this.path.every((function(t,n){return t===e.path[n]}))}},{key:"getUrl",value:function(){return this.url}},{key:"getDisplayName",value:function(){return decodeURI(this.name)}},{key:"getDisplaySize",value:function(){return this._size?ve(this._size):"Unknown size"}},{key:"name",get:function(){return this._name}},{key:"path",get:function(){return this._path}},{key:"url",get:function(){return this._url}},{key:"size",get:function(){return this._size}}]),e}(),pe=function(e){function t(){return Object(U.a)(this,t),Object(F.a)(this,Object(B.a)(t).apply(this,arguments))}return Object(H.a)(t,e),Object(A.a)(t,[{key:"isImage",value:function(){return me.image.test(this.name)}},{key:"isMedia",value:function(){return me.media.test(this.name)}},{key:"isEditable",value:function(){return me.editable.test(this.name)}},{key:"isExtractable",value:function(){return me.extractable.test(this.name)}},{key:"isVideo",value:function(){return me.video.test(this.name)}}]),t}(he),de=function(e){function t(){return Object(U.a)(this,t),Object(F.a)(this,Object(B.a)(t).apply(this,arguments))}return Object(H.a)(t,e),t}(he),me={editable:/\.(txt|diff?|patch|svg|asc|cnf|cfg|conf|html?|cfm|cgi|aspx?|ini|pl|py|md|css|cs|jsx?|jsp|log|htaccess|htpasswd|gitignore|gitattributes|env|json|atom|eml|rss|markdown|sql|xml|xslt?|sh|rb|as|bat|cmd|cob|for|ftn|frm|frx|inc|lisp|scm|coffee|php[3-6]?|java|c|cbl|go|h|scala|vb|tmpl|lock|go|yml|yaml|tsv|lst|ttl)$/i,image:/\.(jpe?g|gif|bmp|png|svg|tiff?)$/i,media:/\.(mp3|ogg|wav|mp4|webm)$/i,video:/\.(mp4|webm|ogg)$/i,extractable:/\.(zip)$/i},ve=function(e){var t="string"===typeof e?parseInt(e):e,n=Math.log(t)/Math.log(1e3)|0;return+(t/Math.pow(1e3,n)).toFixed(2)+" "+("kMGTPEZY"[n-1]||"")+"B"},be=function(e){return new URL(e).pathname.split("/").filter((function(e){return""!==e}))};function Ee(e,t){var n=[],a=[];return e.each(fe.sym(t),fe.sym("http://www.w3.org/ns/ldp#contains"),void 0,void 0).forEach((function(t){var r=t.value,c=function(e,t){var n=fe.sym(t),a=fe.sym("http://www.w3.org/ns/posix/stat#size"),r=e.any(n,a,void 0,void 0);return r&&"value"in r?r.value:void 0}(e,r);!function(e,t){var n=fe.sym(t),a=fe.sym("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),r=e.each(n,a,void 0,void 0);return Object.values(r).some((function(e){return null!==e.value.match("ldp#BasicContainer")}))}(e,r)?n.push(new pe(r,c)):a.push(new de(r,c))})),{files:n,folders:a}}function ge(e,t){return ye.apply(this,arguments)}function ye(){return(ye=Object(z.a)(q.a.mark((function e(t,n){var a,r,c=arguments;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(a=c.length>2&&void 0!==c[2]?c[2]:"")||Oe(n),r=fe.graph(),e.abrupt("return",new Promise((function(e,c){fe.parse(t,r,n,a,(function(){})),e(r)})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oe(e){var t=e.replace(/.*\./,"");return t.match(/\/$/)?"dir":t.match(/(md|markdown)/)?"text/markdown":t.match(/html/)?"text/html":t.match(/xml/)?"text/xml":t.match(/ttl/)?"text/turtle":t.match(/n3/)?"text/n3":t.match(/rq/)?"application/sparql":t.match(/css/)?"text/css":t.match(/txt/)?"text/plain":t.match(/json/)?"application/json":t.match(/js/)?"application/javascript":t.match(/(png|gif|jpeg|tif)/)?"image":t.match(/(mp3|aif|ogg)/)?"audio":t.match(/(avi|mp4|mpeg)/)?"video":"text/turtle"}function ke(e,t){return je.apply(this,arguments)}function je(){return(je=Object(z.a)(q.a.mark((function e(t,n){var a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=at(t,n),e.abrupt("return",ee.fetch(a).then(rt));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ce(e,t){return we.apply(this,arguments)}function we(){return(we=Object(z.a)(q.a.mark((function e(t,n){var a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=nt(t,n),e.abrupt("return",ee.fetch(a,{headers:{Accept:"text/turtle"}}).then(rt));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xe(e,t){return Te.apply(this,arguments)}function Te(){return(Te=Object(z.a)(q.a.mark((function e(t,n){var a,r,c,i,o;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=nt(t,n),e.next=3,Ce(t,n);case 3:return r=e.sent,e.next=6,r.text();case 6:return c=e.sent,e.next=9,ge(c,a,"text/turtle");case 9:return i=e.sent,o=Ee(i,a),e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Se(){return(Se=Object(z.a)(q.a.mark((function e(t,n,a){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ie(t,n,a);case 2:return e.abrupt("return",ze(t,a));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Le(){return(Le=Object(z.a)(q.a.mark((function e(t,n,a){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe(t,n,t,a);case 2:return e.abrupt("return",Je(t,n));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ne(){return(Ne=Object(z.a)(q.a.mark((function e(t,n,a){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_e(t,n,t,a);case 2:return e.abrupt("return",$e(t,n));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ie(e,t,n){return De.apply(this,arguments)}function De(){return(De=Object(z.a)(q.a.mark((function e(t,n,a){var r,c,i,o;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe(t);case 2:return r=e.sent,c=r.files,i=r.folders,c=c.filter((function(e){var t=e.name;return a.includes(t)})),i=i.filter((function(e){var t=e.name;return a.includes(t)})),o=[].concat(Object(O.a)(c.map((function(e){var a=e.name;return Pe(t,a,n,a)}))),Object(O.a)(i.map((function(e){var a=e.name;return _e(t,a,n,a)})))),e.next=10,Promise.all(o);case 10:return e.abrupt("return",new Response);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pe(e,t,n,a){return Me.apply(this,arguments)}function Me(){return(Me=Object(z.a)(q.a.mark((function e(t,n,a,r){var c,i;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke(t,n);case 2:return c=e.sent,e.next=5,c.blob();case 5:return i=e.sent,e.abrupt("return",We(a,r,i));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _e(e,t,n,a){return Re.apply(this,arguments)}function Re(){return(Re=Object(z.a)(q.a.mark((function e(t,n,a,r){var c,i,o,l;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae(a,r);case 2:return e.next=4,xe(t,n);case 4:return c=e.sent,i=c.files,o=c.folders,l=[].concat(Object(O.a)(i.map((function(e){var c=e.name;return Pe("".concat(t,"/").concat(n),c,"".concat(a,"/").concat(r),c)}))),Object(O.a)(o.map((function(e){var c=e.name;return _e("".concat(t,"/").concat(n),c,"".concat(a,"/").concat(r),c)})))),e.next=10,Promise.all(l);case 10:return e.abrupt("return",new Response);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ue(){return(Ue=Object(z.a)(q.a.mark((function e(t,n){var a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Array.from(n).map((function(e){return Be(t,e.name,e)})),e.next=3,Promise.all(a);case 3:return e.abrupt("return",new Response);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ae(e,t){return Fe.apply(this,arguments)}function Fe(){return(Fe=Object(z.a)(q.a.mark((function e(t,n){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,et(t,n);case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",new Response);case 4:return e.abrupt("return",Ve(t,n,new Blob,'<http://www.w3.org/ns/ldp#BasicContainer>; rel="type"'));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Be(e,t,n){return He.apply(this,arguments)}function He(){return(He=Object(z.a)(q.a.mark((function e(t,n,a){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Je(t,n);case 2:return e.abrupt("return",We(t,n,a));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function We(e,t,n){return Ge.apply(this,arguments)}function Ge(){return(Ge=Object(z.a)(q.a.mark((function e(t,n,a){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ve(t,n,a,'<http://www.w3.org/ns/ldp#Resource>; rel="type"'));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ve(e,t,n,a){return qe.apply(this,arguments)}function qe(){return(qe=Object(z.a)(q.a.mark((function e(t,n,a,r){var c,i;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="".concat(p.getHost()).concat(t),i={method:"POST",headers:{link:r,slug:n,"Content-Type":void 0},body:a},e.abrupt("return",ee.fetch(c,i).then(rt));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ze(e,t){return Ye.apply(this,arguments)}function Ye(){return(Ye=Object(z.a)(q.a.mark((function e(t,n){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(n.map((function(e){return Je(t,e)}))).then((function(){return new Response})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Je(e,t){return Xe.apply(this,arguments)}function Xe(){return(Xe=Object(z.a)(q.a.mark((function e(t,n){var a,r;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=at(t,n),e.next=3,ee.fetch(a,{method:"DELETE"});case 3:if(409!==(r=e.sent).status&&301!==r.status){e.next=8;break}return e.abrupt("return",$e(t,n));case 8:if(404!==r.status){e.next=12;break}return e.abrupt("return",r);case 12:return rt(r),e.abrupt("return",r);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $e(e,t){return Ke.apply(this,arguments)}function Ke(){return(Ke=Object(z.a)(q.a.mark((function e(t,n){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qe(t,n);case 2:return e.abrupt("return",Je(t,n));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qe(e,t){return Ze.apply(this,arguments)}function Ze(){return(Ze=Object(z.a)(q.a.mark((function e(t,n){var a,r,c,i,o;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(t,"/").concat(n),e.next=3,xe(t,n);case 3:return r=e.sent,c=r.files,i=r.folders,o=[].concat(Object(O.a)(c.map((function(e){var t=e.name;return Je(a,t)}))),Object(O.a)(i.map((function(e){var t=e.name;return $e(a,t)})))),e.next=9,Promise.all(o);case 9:return e.abrupt("return",new Response);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function et(e,t){return tt.apply(this,arguments)}function tt(){return(tt=Object(z.a)(q.a.mark((function e(t,n){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ce(t,n);case 3:return e.abrupt("return",!0);case 6:if(e.prev=6,e.t0=e.catch(0),!(e.t0 instanceof Response&&404===e.t0.status)){e.next=10;break}return e.abrupt("return",!1);case 10:throw e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function nt(e,t){return at(e,t)+"/"}function at(e,t){for(var n="".concat(p.getHost()).concat(e,"/").concat(t||"");"/"===n.slice(-1);)n=n.slice(0,-1);return n}function rt(e){if(!e.ok)throw e;return e}var ct=n(227),it=n.n(ct),ot=function(){function e(){Object(U.a)(this,e),this._data={}}return Object(A.a)(e,[{key:"add",value:function(e,t){return this._data[e]=t,t}},{key:"contains",value:function(e){return this._data.hasOwnProperty(e)}},{key:"get",value:function(e){return this._data[e]}},{key:"remove",value:function(){for(var e=this,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];n.filter((function(t){return e.contains(t)})).forEach((function(t){return delete e._data[t]}))}},{key:"clear",value:function(){this._data={}}}]),e}(),lt=n(95),ut=n.n(lt),st=function(){function e(){Object(U.a)(this,e)}return Object(A.a)(e,null,[{key:"getMetaById",value:function(e){var t=this.createCORSRequest("GET","".concat(this.couchDbBaseUrl,"/").concat(e));t&&(t.onload=function(){return t.responseText},t.onerror=function(){alert("Error calling request to CouchDb.")},t.send())}},{key:"getItemsByViewGroupedTags",value:function(){var e=Object(z.a)(q.a.mark((function e(){var t,n,a,r;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(this.couchDbBaseUrl,"/_design/DesignDoc/_view/GroupedTags?reduce=true&group=true"),e.next=3,this.executeQueryonCouch(t);case 3:return n=e.sent,a=JSON.parse(n),r=[],a.rows&&a.rows.forEach((function(e){var t={tagType:e.key[0],value:e.key[1],published:!0};r.push(t)})),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getMetaFromTags",value:function(){var e=Object(z.a)(q.a.mark((function e(t){var n,a,r,c,i;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.tagArrayTotring(t),a="".concat(this.couchDbBaseUrl,"/_design/DesignDoc/_view/MetasByTags?keys=").concat(n),e.next=4,this.executeQueryonCouch(a);case 4:return r=e.sent,c=JSON.parse(r),i=[],c.rows&&(c.rows.forEach((function(e){var t=e.value;i.push(t)})),i=i.filter((function(e,t,n){return t===n.findIndex((function(t){return t._id===e._id}))}))),e.abrupt("return",i);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateMeta",value:function(t){var n=this.createCORSRequest("GET","".concat(this.couchDbBaseUrl,"/").concat(this.createIdFromMeta(t)));n&&(n.onload=function(){if(404!==n.status){var a=JSON.parse(n.responseText);a&&a._rev&&(t._rev=a._rev)}e.writeMeta(t)},n.onerror=function(){alert("Error reading original Meta when updating.")},n.send())}},{key:"executeQueryonCouch",value:function(e){var t=this;return new Promise((function(n,a){var r=t.createCORSRequest("GET",e);r&&(r.onload=function(){r.status>=200&&r.status<300?n(r.response):a(r.statusText)},r.onerror=function(){return a(r.statusText)},r.send())}))}},{key:"writeMeta",value:function(e){var t=this.createCORSRequest("PUT","".concat(this.couchDbBaseUrl,"/").concat(this.createIdFromMeta(e)));t&&(t.onload=function(){},t.onerror=function(){alert("Error writing meta in CouchDb.")},t.send(JSON.stringify(e)))}},{key:"createCORSRequest",value:function(e,t){var n=new XMLHttpRequest;return"withCredentials"in n?(n.open(e,t,!0),n.setRequestHeader("Content-Type","application/json")):alert("CORS not supported"),n}},{key:"createIdFromMeta",value:function(e){var t=new RegExp("[/]","g");return(e.hostName+e.pathName).replace(t,".")}},{key:"tagArrayTotring",value:function(e){var t="",n="";return e.forEach((function(e){t+="".concat(n,'"').concat(e.tagType,":").concat(e.value,'"'),n=","})),"[".concat(t,"]")}}]),e}();st.couchDbServerUrl="http://91.186.9.6:5984",st.couchDbDatabaseName="solid",st.couchDbBaseUrl="".concat(st.couchDbServerUrl,"/").concat(st.couchDbDatabaseName);var ft="rebeccapurple",ht=function(){function e(){Object(U.a)(this,e)}return Object(A.a)(e,null,[{key:"getTagIndexFullPath",value:function(){return"".concat(p.getHost()).concat("/public","/").concat("_Meta.json")}},{key:"getAllLocalMetas",value:function(){var e=Object(z.a)(q.a.mark((function e(){var t,n,a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],0===this.allLocalMeta.length){e.next=5;break}t=this.allLocalMeta,e.next=12;break;case 5:return e.next=7,ne.loadUserIdAndHost();case 7:return n=e.sent.baseUrl,e.next=10,ne.readFileAsString("".concat(n).concat("/public","/").concat("_Meta.json"),!0);case 10:""!==(a=e.sent)&&(t=JSON.parse(a),this.allLocalMeta=t);case 12:return e.abrupt("return",t);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getMetaList",value:function(){var e=Object(z.a)(q.a.mark((function e(t,n){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=4;break}return e.abrupt("return",this.getSelectedLocalMeta(t));case 4:return e.abrupt("return",this.getSelectedCentralMeta(t));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getSelectedLocalMeta",value:function(){var e=Object(z.a)(q.a.mark((function e(t){var n,a,r=this;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getAllLocalMetas();case 2:return n=e.sent,a=[],t.forEach((function(e){r.filterByMetaTag(n,e).forEach((function(t){var n=ut.a.find(a,(function(e){return t.hostName+t.pathName===e.hostName+e.pathName}));if(void 0!==n)n.tags.push(e);else{var r=JSON.parse(JSON.stringify(t));r.creationDate=new Date(0),r.tags=[e],a.push(r)}}))})),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"filterByMetaTag",value:function(e,t){return ut.a.filter(e,(function(e){return ut.a.some(e.tags,(function(e){return e.tagType===t.tagType&&e.value===t.value}))}))}},{key:"getSelectedCentralMeta",value:function(){var e=Object(z.a)(q.a.mark((function e(t){var n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,st.getMetaFromTags(t);case 2:return n=e.sent,e.next=5,this.getAllLocalMetas();case 5:return e.sent.forEach((function(e){n.forEach((function(t){t.tags.forEach((function(t){e.tags.forEach((function(e){e.tagType===t.tagType&&e.value===t.value&&(t.published=!0)}))}))}))})),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getOrInitMeta",value:function(){var e=Object(z.a)(q.a.mark((function e(t){var n,a,r,c;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=new URL(t.getUrl()),a={hostName:n.hostname,pathName:n.pathname,mimeType:t instanceof de?"FOLDER":"",creationDate:new Date,tags:[]},void 0===this.currentMeta||this.currentMeta.hostName!==n.hostname||this.currentMeta.pathName!==n.pathname){e.next=6;break}a=this.currentMeta,e.next=10;break;case 6:return e.next=8,this.getAllLocalMetas();case 8:void 0!==(r=e.sent)&&void 0!==(c=r.filter((function(e){return e.hostName===n.hostname&&e.pathName===n.pathname}))[0])&&(a=c);case 10:return this.currentMeta=a,this.currentItem=t,e.abrupt("return",a);case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateMeta",value:function(){var t=Object(z.a)(q.a.mark((function t(n){var a,r;return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getAllLocalMetas();case 2:return(a=(a=t.sent).filter((function(e){return!(e.hostName===n.hostName&&e.pathName===n.pathName)}))).push(n),t.t0=ne,t.next=8,e.getTagIndexFullPath();case 8:t.t1=t.sent,t.t2=JSON.stringify(a),t.t0.updateFile.call(t.t0,t.t1,t.t2),(r=JSON.parse(JSON.stringify(n))).tags=r.tags.filter((function(e){return e.published})),r.tags.forEach((function(e){delete e.published})),st.updateMeta(r),this.currentMeta=n,this.allLocalMeta=a,this.refreshCurrentUsedTags();case 18:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getUsedTags",value:function(){var e=Object(z.a)(q.a.mark((function e(t){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",0===t?this.getLocalUsedTags():this.getCentralUsedTags());case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getLocalUsedTags",value:function(){var e=Object(z.a)(q.a.mark((function e(){var t,n,a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],0===this.currentLocalUsedTags.length){e.next=5;break}t=this.currentLocalUsedTags,e.next=13;break;case 5:return e.next=7,this.getAllLocalMetas();case 7:n=e.sent,a=[],n&&n.forEach((function(e){e.tags&&e.tags.forEach((function(e){a.push(e)}))})),t=ut.a.uniqWith(a,(function(e,t){return e.tagType===t.tagType&&e.value===t.value})),t=ut.a.sortBy(t,["tagType","value"]),this.currentLocalUsedTags=t;case 13:return e.abrupt("return",t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getCentralUsedTags",value:function(){var t=Object(z.a)(q.a.mark((function t(){var n=this;return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0===this.currentCentralUsedTags.length){t.next=4;break}return t.abrupt("return",this.currentCentralUsedTags);case 4:return t.abrupt("return",new Promise((function(t,a){st.getItemsByViewGroupedTags().then((function(a){a.forEach((function(e){e.published=!1})),e.getLocalUsedTags().then((function(e){e.forEach((function(e){!0===e.published&&n.markCentralFromLocal(a,e)})),n.currentCentralUsedTags=a,t(a)}))}))})));case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"markCentralFromLocal",value:function(e,t){ut.a.filter(e,(function(e){return e.value===t.value})).forEach((function(e){return e.published=!0}))}},{key:"refreshCurrentUsedTags",value:function(){this.currentLocalUsedTags=[],this.currentCentralUsedTags=[],this.getCentralUsedTags()}}]),e}();ht.allLocalMeta=[],ht.currentMeta={},ht.currentItem={},ht.currentLocalUsedTags=[],ht.currentCentralUsedTags=[];var pt=new ot,dt=function(){var e=Object(z.a)(q.a.mark((function e(t){var n,a,r;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n="",console.group("handleFetchError"),!(t instanceof Response)){e.next=12;break}return e.next=5,t.text();case 5:n=e.sent,console.error("url: ".concat(t.url)),console.error("status: ".concat(t.status)),r={401:"The ressource at ".concat(t.url," requires you to login."),403:"You don't have permission to access the ressource at ".concat(t.url,".\n            Please make sure that you are logged in with the correct account.\n            If the server runs with version 5.0.0 or higher, make sure you gave this app read/write permission"),404:"The ressource at ".concat(t.url," was not found"),500:"An internal server error occured...\n            ".concat(n)},t.status in r&&(a=r[t.status]),e.next=13;break;case 12:t instanceof Error?(n=t.message,console.error(t.stack)):n="string"===typeof t?t:JSON.stringify(t);case 13:throw console.error("errorMessage: ".concat(n)),console.error("error: ".concat(t)),console.groupEnd(),new Error(a||n);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),mt=function(e){return""===e?e:("/"+e).replace(/\/\//g,"/")},vt=function(e){return e=mt(e),pt.contains(e)?Promise.resolve(pt.get(e)):xe(e).then((function(e){var t=e.files,n=e.folders;return[].concat(Object(O.a)(t),Object(O.a)(n))})).then((function(t){return pt.add(e,t)})).catch(dt)},bt=function(e,t){return ke(e=mt(e),t).then((function(e){return e.blob()})).catch(dt)},Et=function(e,t,n){return e=mt(e),pt.remove(e),function(e,t,n){return Le.apply(this,arguments)}(e,t,n).catch(dt)},gt=function(e,t,n){return e=mt(e),pt.remove(e),function(e,t,n){return Ne.apply(this,arguments)}(e,t,n).catch(dt)},yt=function(e,t){return e=mt(e),pt.remove(e),(t||"").trim()?Ae(e,t).catch(dt):Promise.reject("Invalid folder name")},Ot=function(e,t,n){return e=mt(e),t=mt(t),pt.remove(e,t),n.length?function(e,t,n){return Se.apply(this,arguments)}(e,t,n).catch(dt):Promise.reject("No files to move")},kt=function(e,t){return e=mt(e),pt.remove(e),t.length?function(e,t){return Ue.apply(this,arguments)}(e,t).catch(dt):Promise.reject("No files to upload")},jt=function(e,t,n){return e=mt(e),pt.remove(e),Be(e,t,n).catch(dt)},Ct=function(e,t){e=mt(e);var n=new it.a;return wt(n,e,t).then((function(){return n}))},wt=function e(t,n,a){var r=a.map(function(){var a=Object(z.a)(q.a.mark((function a(r){var c,i,o,l;return q.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!(r instanceof de)){a.next=10;break}return c=t.folder(r.name),i="".concat(n,"/").concat(r.name),a.next=5,vt(i);case 5:return o=a.sent,a.next=8,e(c,i,o);case 8:a.next=15;break;case 10:if(!(r instanceof pe)){a.next=15;break}return a.next=13,bt(n,r.name);case 13:l=a.sent,t.file(r.name,l,{binary:!0});case 15:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}());return Promise.all(r)},xt=function(){var e=Object(z.a)(q.a.mark((function e(t){var n,a,r,c,i=arguments;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:t,a=i.length>2?i[2]:void 0,e.next=4,bt(t,a);case 4:return r=e.sent,e.next=7,it.a.loadAsync(r);case 7:return c=e.sent,e.abrupt("return",Tt(c,n));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function Tt(e,t){return St.apply(this,arguments)}function St(){return(St=Object(z.a)(q.a.mark((function e(t,n){var a,r,c=arguments;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>2&&void 0!==c[2]?c[2]:"",r=Lt(t,a).map(function(){var e=Object(z.a)(q.a.mark((function e(a){var r,c,i,o;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.name,c=Nt(r),i=It("".concat(n,"/").concat(r)),!a.dir){e.next=10;break}return e.next=6,yt(i,c);case 6:return e.next=8,Tt(t,n,r);case 8:e.next=15;break;case 10:return e.next=12,a.async("blob");case 12:return o=e.sent,e.next=15,jt(i,c,o);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.abrupt("return",Promise.all(r));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lt(e,t){return Object.keys(e.files).filter((function(e){var n=e.slice(t.length,e.length);return!(!n||e.slice(0,t.length)!==t)&&(!n.includes("/")||!n.slice(0,-1).includes("/"))})).map((function(t){return e.files[t]}))}function Nt(e){return(e=e.endsWith("/")?e.slice(0,-1):e).substr(e.lastIndexOf("/")+1)}function It(e){return e=(e=e.endsWith("/")?e.slice(0,-1):e).substr(0,e.lastIndexOf("/"))}var Dt=function(){return function(e,t){e(bn()),function(){return Mt.apply(this,arguments)}().then((function(t){return e(Pt(t))})).catch((function(t){return e(Sn(String(t)))})).finally((function(){return e(En())}))}},Pt=function(e){return function(){var t=Object(z.a)(q.a.mark((function t(n,a){return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=e,t.t0){t.next=5;break}return t.next=4,ee.currentSession();case 4:t.t0=t.sent;case 5:(e=t.t0)?(n(cn(e.webId)),n(nn())):(n(an()),n(on()));case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()};function Mt(){return(Mt=Object(z.a)(q.a.mark((function e(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee.popupLogin({popupUri:"./vendor/solid-auth-client/popup.html"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _t=function(){return function(e,t){return pt.clear()}},Rt=function(e){return function(t,n){!function(e){ht.updateMeta(e).catch(dt)}(e),t(wn(a.EDITTAGS))}},Ut=function(e,t){return function(n,a){n(bn()),function(e,t){return ht.getMetaList(e,t).then().catch(dt)}(e,t).then((function(e){return n(sn(e))})).catch((function(e){return n(Sn(String(e)))})).finally((function(){return n(En())}))}},At=function(){return function(e,t){var n=t().path;e(bn()),e(pn()),vt(n.join("/")).then((function(t){return e(ln(t))})).catch((function(t){return e(Sn(String(t)))})).finally((function(){return e(En())}))}},Ft=function(){return function(e,t){return function(e){pt.remove(mt(e))}(t().path.join("/")),e(At())}};function Bt(e,t){if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(e,t);else{var n=document.createElement("a"),a=URL.createObjectURL(e);n.href=a,n.download=t,document.body.appendChild(n),n.click(),setTimeout((function(){document.body.removeChild(n),window.URL.revokeObjectURL(a)}),0)}}var Ht=function(e){return function(t,n){var a=n().path;t(bn()),t(gn()),bt(a.join("/"),e).then((function(e){return t(yn(e))})).catch((function(e){return t(Sn(String(e)))})).finally((function(){return t(En())}))}},Wt=function(e){return function(t,n){t(Ht(e)),t(Cn(a.EDIT))}},Gt=function(e){return function(t,n){t(Ht(e)),t(Cn(a.CONTENT))}},Vt=function(){return function(e,t){e(Cn(a.MEDIA))}},qt=function(e){return function(t,n){var a=n().path;t(bn());var r=e.map((function(e){return e.name}));(function(e,t){return e=mt(e),pt.remove(e),t.length?ze(e,t).catch(dt):Promise.reject("No files to remove")})(a.join("/"),r).then((function(e){return t(At())})).catch((function(e){return t(Sn(String(e)))})).finally((function(){return t(En())}))}},zt=function(e,t){t.host;var n=t.path;return function(t,r){var c=r().path;t(bn());var i=n.join("/"),o=e.map((function(e){return e.name}));(function(e,t,n){return e=mt(e),t=mt(t),pt.remove(e,t),n.length?Ie(e,t,n).catch(dt):Promise.reject("No files to copy")})(c.join("/"),i,o).then((function(e){t(At()),t(wn(a.COPY))})).catch((function(e){return t(Sn(String(e)))})).finally((function(){return t(En())}))}},Yt=function(e){return function(t,n){var a=n().items,r=a.inCurFolder,c=a.selected,i=Object(O.a)(c).pop();if(!i)return t(Sn("Couldn't enlarge selection because no items were previously selected"));var o=r.indexOf(i),l=r.indexOf(e),u=function(e,t,n){return t<=e&&e<=n},s=l>o?r.filter((function(e,t){return u(t,o,l)})):r.filter((function(e,t){return u(t,l,o)}));t(fn([].concat(Object(O.a)(c),Object(O.a)(s))))}},Jt=function(){return function(e,t){e(jn(0)),e(wn(a.UPLOAD_FILE)),e(kn())}},Xt=function(e){return function(t,n){t(en(e)),t(vn()),t(At())}},$t=function(e){return function(t,n){var a=e.path;t(Xt(e instanceof pe?a:[].concat(Object(O.a)(a),[e.name])))}},Kt=function(e){return function(t,n){!n().items.selected.includes(e)&&t(hn(e))}},Qt=function(e){return function(t){return{type:e,value:t}}},Zt=Qt("MOVE_FOLDER_UPWARDS"),en=Qt("SET_PATH"),tn=function(){return en([])},nn=Qt("SET_LOGGED_IN"),an=Qt("SET_LOGGED_OUT"),rn=Qt("SET_HOST"),cn=(Qt("RESET_HOST"),Qt("SET_WEB_ID")),on=Qt("RESET_WEB_ID"),ln=Qt("SET_ITEMS"),un=function(){return ln([])},sn=Qt("SET_METAS"),fn=Qt("SELECT_ITEMS"),hn=function(e){return fn([e])},pn=function(){return fn([])},dn=Qt("TOGGLE_SELECTED_ITEM"),mn=(Qt("DESELECT_ITEM"),Qt("FILTER_ITEMS")),vn=Qt("REMOVE_FILTER"),bn=Qt("DISPLAY_LOADING"),En=Qt("STOP_LOADING"),gn=Qt("RESET_LOADED_BLOB"),yn=Qt("SET_LOADED_BLOB"),On=Qt("SET_UPLOAD_FILE_LIST"),kn=function(){return On(null)},jn=Qt("SET_UPLOAD_FILE_PROGRESS"),Cn=Qt("OPEN_DIALOG"),wn=Qt("CLOSE_DIALOG"),xn=Qt("OPEN_CONTEXT_MENU"),Tn=Qt("CLOSE_CONTEXT_MENU"),Sn=Qt("SET_ERROR_MESSAGE"),Ln=function(e){function t(){var e,n;Object(U.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(F.a)(this,(e=Object(B.a)(t)).call.apply(e,[this].concat(r)))).state={},n.colNumber=2,n.Blank=function(){return c.a.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},c.a.createElement("path",{d:"",fill:"#fff"}))},n}return Object(H.a)(t,e),Object(A.a)(t,[{key:"render",value:function(){var e=this.props,t=e.item,n=e.handleClick,a=e.colNumber,r=e.itemHandleClick;return c.a.createElement(re.a,{style:{padding:"0 16px 0px 16px"},button:!0,key:t.url,onClick:r.bind(this,t)},this.blanks(a),c.a.createElement("div",{key:t.name},t.folders&&0!==t.folders.length?this.props.expColl?c.a.createElement(le.a,{key:t.name}):c.a.createElement(se.a,{key:t.name}):this.Blank()),c.a.createElement(ie.a,{style:{fontSize:"0.8em",padding:"0 0px"},key:t.name+"txt",onClick:n},t.name))}},{key:"blanks",value:function(e){for(var t=[],n=0;n<e;n++)t.push(this.Blank());return t}}]),t}(c.a.Component),Nn=Object(u.b)((function(){return{}}),(function(e,t){return{handleClick:function(){var n=new he(t.item.url);e($t(n))}}}))(Ln),In=n(50),Dn=n(368),Pn=n.n(Dn),Mn=n(367),_n=n.n(Mn);var Rn=Object(In.withStyles)((function(e){return Object(In.createStyles)({progress:{margin:10*e.spacing.unit}})}))((function(e){return c.a.createElement(_n.a,{container:!0,justify:"center"},c.a.createElement(Pn.a,{className:e.classes.progress,color:"secondary"}))})),Un=function(e){function t(e){var n;return Object(U.a)(this,t),(n=Object(F.a)(this,Object(B.a)(t).call(this,e))).state={},n.folder={},n.itemHandleClick=n.itemHandleClick.bind(Object(Y.a)(n)),n}return Object(H.a)(t,e),Object(A.a)(t,[{key:"itemHandleClick",value:function(e){this.updateFolder(e),this.setState(Object(f.a)({},e.url,!this.state[e.url]))}},{key:"initFolders",value:function(){var e=Object(z.a)(q.a.mark((function e(){var t,n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.loadUserIdAndHost();case 2:if(null===(t=e.sent.baseUrl)){e.next=18;break}return e.next=6,ne.readFolder(t);case 6:return this.folder=e.sent,e.next=9,this.updateFolder(this.folder);case 9:this.forceUpdate(),n=0;case 11:if(!(n<this.folder.folders.length)){e.next=17;break}return e.next=14,this.updateFolder(this.folder.folders[n]);case 14:n++,e.next=11;break;case 17:this.forceUpdate();case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateFolder",value:function(){var e=Object(z.a)(q.a.mark((function e(t){var n,a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:if(!(n<t.folders.length)){e.next=25;break}if(!0===t.folders[n].known){e.next=7;break}return e.next=5,ne.readFolder(t.folders[n].url);case 5:t.folders[n]=e.sent,t.folders[n].known=!0;case 7:a=0;case 8:if(!(a<t.folders[n].folders.length)){e.next=22;break}if(e.prev=9,!0===t.folders[n].folders[a].known){e.next=15;break}return e.next=13,ne.readFolder(t.folders[n].folders[a].url);case 13:t.folders[n].folders[a]=e.sent,t.folders[n].folders[a].known=!0;case 15:e.next=19;break;case 17:e.prev=17,e.t0=e.catch(9);case 19:a++,e.next=8;break;case 22:n++,e.next=1;break;case 25:case"end":return e.stop()}}),e,null,[[9,17]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return void 0===this.folder.name?(this.initFolders(),c.a.createElement("div",null,c.a.createElement(Rn,null))):c.a.createElement("div",null,c.a.createElement(X.a,{style:{width:"max-content",flexShrink:0},subheader:c.a.createElement(K.a,null)},this.printRows(this.folder.folders,-1)))}},{key:"printRows",value:function(e,t){var n=this;if(t+=1,null!=e)return e.map((function(e){return c.a.createElement("div",{key:e.name},c.a.createElement(Nn,{item:e,key:0,colNumber:t,itemHandleClick:n.itemHandleClick,expColl:n.state[e.url]}),null!=e.folders?c.a.createElement(Z.a,{key:e.name+"col",component:"div",in:n.state[e.url],timeout:"auto",unmountOnExit:!0},n.printRows(e.folders,t)):null)}));t-=1}}]),t}(r.Component),An=n(167),Fn=n.n(An),Bn=function(e){function t(){var e,n;Object(U.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(F.a)(this,(e=Object(B.a)(t)).call.apply(e,[this].concat(r)))).usedTags=[[]],n.selectedTags=[[]],n.localOrCentral=!0,n.LC=0,n.state={localOrCentral:!0,loading:!0},n.PrintList=function(){if(!n.state.loading)return c.a.createElement(X.a,{style:{minWidth:"max-content"},className:"leftPane"},n.usedTags[n.LC].map((function(e){var t={color:e.published?ft:"black"};return c.a.createElement(re.a,{style:{padding:"0 0 0 10px"},key:e.value,role:void 0,dense:!0,button:!0},c.a.createElement(Fn.a,{style:{padding:"0 0 0 0"},color:"primary",onChange:function(t){return n.handleClick(e)},checked:void 0!==n.selectedTags[n.LC].find((function(t){return e===t}))}),c.a.createElement(ie.a,{style:{padding:"0 0 0 0"},id:e.value,onClick:function(t){return n.handleClick(e)}},c.a.createElement("span",{style:t},"".concat(e.tagType,": ").concat(e.value))))})))},n}return Object(H.a)(t,e),Object(A.a)(t,[{key:"componentDidMount",value:function(){this.setState({localOrCentral:!0}),this.selectedTags[0]=[],this.selectedTags[1]=[],this.refreshView()}},{key:"refreshView",value:function(){var e=this;ht.getUsedTags(this.LC).then((function(t){e.usedTags[e.LC]=t,e.setState({loading:!1})})),this.props.handleSubmit(this.selectedTags[this.LC],this.localOrCentral)}},{key:"handleClick",value:function(e){var t=this.selectedTags[this.LC].indexOf(e);-1!==t?this.selectedTags[this.LC].splice(t,1):this.selectedTags[this.LC].push(e),this.props.handleSubmit(this.selectedTags[this.LC],this.localOrCentral),this.forceUpdate()}},{key:"onChange",value:function(){this.localOrCentral=!this.localOrCentral,this.setState({localOrCentral:this.localOrCentral}),this.LC=this.localOrCentral?0:1,this.setState({loading:!0}),this.refreshView()}},{key:"render",value:function(){var e=this;return c.a.createElement("div",null,c.a.createElement("div",null,"Local",c.a.createElement(G.a,{checked:!this.localOrCentral,onChange:function(){e.onChange()},color:"default"}),"Central"),this.state.loading?"Loading ...":this.PrintList())}}]),t}(r.Component),Hn=Object(u.b)((function(){return{}}),(function(e,t){return{handleSubmit:function(t,n){e(Ut(t,n))}}}))(Bn),Wn=(n(352),n(23)),Gn=n.n(Wn),Vn=n(171),qn=n.n(Vn),zn=n(170),Yn=n.n(zn),Jn=n(79),Xn=n.n(Jn),$n=n(169),Kn=n.n($n),Qn=function(e){function t(){return Object(U.a)(this,t),Object(F.a)(this,Object(B.a)(t).apply(this,arguments))}return Object(H.a)(t,e),Object(A.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isSelected,n=e.item,a=e.handleClickOnName,r=e.handleClickOnFolder,i=e.handleDoubleClick,o=e.handleContextMenu,l={backgroundColor:t?Kn.a.A200:void 0},u=n instanceof pe?n.getDisplaySize():null;return c.a.createElement("div",{className:"File","data-selected":t},c.a.createElement(re.a,{style:{padding:"0 16px 0px 16px"}},c.a.createElement(Gn.a,null,c.a.createElement("div",{style:l,onClick:r},n instanceof pe?c.a.createElement(Xn.a,null):c.a.createElement(Yn.a,null))),c.a.createElement(ie.a,{className:"filename",primary:n.getDisplayName(),secondary:u,onClick:a,onDoubleClick:i,onContextMenu:o}),c.a.createElement(qn.a,{absolute:!0})))}}]),t}(r.Component),Zn=Object(u.b)((function(e,t){return{isSelected:e.items.selected.includes(t.item)}}),(function(e,t){return{handleDoubleClick:function(){var n=t.item;n instanceof pe?n.isEditable()?e(Wt(n.name)):n.isImage()?e(Gt(n.name)):n.isMedia()&&e(Vt()):e($t(n))},handleContextMenu:function(n){n.preventDefault(),n.stopPropagation();var a=0,r=0;n.nativeEvent instanceof MouseEvent?(a=n.nativeEvent.clientX,r=n.nativeEvent.clientY):n.nativeEvent instanceof TouchEvent?(a=n.nativeEvent.touches[0].pageX,r=n.nativeEvent.touches[0].pageY):console.warn("Unknown click event",n),n.shiftKey?e(Yt(t.item)):e(Kt(t.item)),e(xn({x:a,y:r}))},handleClickOnName:function(n){n.stopPropagation(),n.ctrlKey?e(dn(t.item)):n.shiftKey?e(Yt(t.item)):e(fn([t.item]))},handleClickOnFolder:function(){var n=t.item;e($t(n))}}}))(Qn);n(736);function ea(){return c.a.createElement("div",{className:"FileListEmptyMessage"},"No files in this folder")}n(737);var ta=function(e){function t(){return Object(U.a)(this,t),Object(F.a)(this,Object(B.a)(t).apply(this,arguments))}return Object(H.a)(t,e),Object(A.a)(t,[{key:"render",value:function(){var e=this.props,t=e.items,n=e.isLoading,a=t.map((function(e,t){return c.a.createElement(Zn,{item:e,key:t})}));return c.a.createElement("div",{className:"FileList"},n?c.a.createElement(Rn,null):a.length?a:c.a.createElement(ea,null))}}]),t}(r.Component),na=function(e,t){return e.toLocaleLowerCase().match(t.toLocaleLowerCase())},aa=Object(u.b)((function(e){return{items:e.items.inCurFolder.filter((function(t){return na(t.getDisplayName(),e.items.filter)})),isLoading:e.loading}}),(function(){return{}}))(ta),ra=(n(220),function(e){function t(){var e,n;Object(U.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(F.a)(this,(e=Object(B.a)(t)).call.apply(e,[this].concat(r)))).userId=ne.userIdAndHost.userId,n}return Object(H.a)(t,e),Object(A.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isSelected,n=e.meta,a=e.handleClickOnName,r=e.handleDoubleClick,i=e.handleContextMenu,o="";return n.hostName===this.userId?c.a.createElement("div",{className:"File","data-selected":t},c.a.createElement(re.a,{style:{padding:"0 16px 0px 16px"}},c.a.createElement(ie.a,{onClick:a,onDoubleClick:r,onContextMenu:i},c.a.createElement("span",null,n.hostName," - ",n.pathName),n.tags.map((function(e){var t=e.published?{color:ft}:{color:"black"};return o=""===o?" (":" - ",c.a.createElement("span",{style:t},o,e.tagType,": ",e.value)})),")"))):c.a.createElement("div",{className:"File","data-selected":t},c.a.createElement(re.a,{style:{padding:"0 16px 0px 16px"}},c.a.createElement(ie.a,{onClick:a,onDoubleClick:r},n.hostName," - ",n.pathName,n.tags.map((function(e){var t=e.published?{color:ft}:{color:"black"};return o=""===o?" (":" - ",c.a.createElement("span",{style:t},o,e.tagType,": ",e.value)})),")")))}}]),t}(r.Component)),ca=Object(u.b)((function(e,t){return{isSelected:e.metas.selected.includes(t.meta)}}),(function(e,t){var n=t.meta,a=n.pathName.split("/");a.shift(),a.pop();var r={};return r="FOLDER"===n.mimeType?new de("https://"+n.hostName+n.pathName):new pe("https://"+n.hostName+n.pathName),{handleDoubleClick:function(){r instanceof pe?r.isEditable()?e(function(e,t){return function(n,a){n(en(t)),n(Wt(e))}}(r.name,a)):r.isImage()?e(function(e,t){return function(n,a){n(en(t)),n(Gt(e))}}(r.name,a)):r.isMedia()&&e(function(e){return function(t,n){t(en(e)),t(Vt())}}(a)):e($t(r))},handleContextMenu:function(t){t.preventDefault(),t.stopPropagation();var n=0,a=0;t.nativeEvent instanceof MouseEvent?(n=t.nativeEvent.clientX,a=t.nativeEvent.clientY):t.nativeEvent instanceof TouchEvent?(n=t.nativeEvent.touches[0].pageX,a=t.nativeEvent.touches[0].pageY):console.warn("Unknown click event",t),t.shiftKey?e(Yt(r)):e(Kt(r)),e(xn({x:n,y:a}))},handleClickOnName:function(t){t.stopPropagation(),t.ctrlKey?e(dn(r)):t.shiftKey?e(Yt(r)):e(fn([r]))}}}))(ra);n(738);function ia(){return c.a.createElement("div",{className:"MetaListEmptyMessage"},c.a.createElement("div",null,"No files or folders for the selected tags."),c.a.createElement("div",null,c.a.createElement("b",null,"Tags: ")),c.a.createElement("div",null,"- Switch set to Local: Black tags are only saved on Local, purple are on Local and Central."),c.a.createElement("div",null,"- Switch set to Central: All tags found on Central, black one are from other users, purple one are created or used by you."))}var oa=function(e){function t(){return Object(U.a)(this,t),Object(F.a)(this,Object(B.a)(t).apply(this,arguments))}return Object(H.a)(t,e),Object(A.a)(t,[{key:"render",value:function(){var e=this.props,t=e.metas,n=e.isLoading,a=t.map((function(e,t){return c.a.createElement(ca,{key:e.hostName+e.pathName,meta:e})}));return c.a.createElement("div",{className:"MetaList"},n?c.a.createElement(Rn,null):a.length?a:c.a.createElement(ia,null))}}]),t}(r.Component),la=function(e,t){return e.toLocaleLowerCase().match(t.toLocaleLowerCase())},ua=Object(u.b)((function(e){return{metas:e.metas.inCurFolder.filter((function(t){return la(t.hostName+t.pathName,e.metas.filter)})),isLoading:e.loading}}),(function(){return{}}))(oa),sa=(n(739),function(e){function t(){var e,n;Object(U.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(F.a)(this,(e=Object(B.a)(t)).call.apply(e,[this].concat(r)))).state={showTreeOrTag:!0},n}return Object(H.a)(t,e),Object(A.a)(t,[{key:"onChange",value:function(){this.setState({showTreeOrTag:!this.state.showTreeOrTag})}},{key:"render",value:function(){var e=this;return c.a.createElement("div",null,c.a.createElement("div",{className:"treeAndTagHeader"},"Tags",c.a.createElement(G.a,{checked:this.state.showTreeOrTag,onChange:function(){e.onChange()},color:"default"}),"Tree"),c.a.createElement("div",null,this.state.showTreeOrTag?c.a.createElement("div",{className:"bodyPlace"},c.a.createElement("div",{className:"leftView"},c.a.createElement(Un,null)),c.a.createElement(aa,null)):c.a.createElement("div",{className:"bodyPlace"},c.a.createElement("div",{className:"leftView"},c.a.createElement(Hn,null)),c.a.createElement(ua,null))))}}]),t}(r.Component)),fa=n(375),ha=n.n(fa),pa=n(376),da=n.n(pa),ma=n(19),va=n.n(ma),ba=n(131),Ea=n.n(ba),ga=n(93),ya=n.n(ga),Oa=n(71),ka=n(377),ja=n.n(ka),Ca=n(378),wa=n.n(Ca),xa=n(172),Ta=n.n(xa),Sa=n(374),La=n.n(Sa),Na=n(28),Ia=n.n(Na),Da=n(371),Pa=n.n(Da);var Ma=Object(u.b)((function(e){return{}}),(function(e){return{handleClick:function(){e(Cn(a.CREATE_FOLDER))}}}))((function(e){var t,n=e.handleClick,a=e.handleClose;return c.a.createElement(Ia.a,{onClick:(t=n,function(){t(),a()})},c.a.createElement(Gn.a,null,c.a.createElement(Pa.a,null)),c.a.createElement(va.a,{variant:"inherit"},"Create folder"))}));var _a=Object(u.b)((function(e){return{}}),(function(e){return{handleClick:function(){e(Cn(a.CREATE_FILE))}}}))((function(e){var t,n=e.handleClick,a=e.handleClose;return c.a.createElement(Ia.a,{onClick:(t=n,function(){t(),a()})},c.a.createElement(Gn.a,null,c.a.createElement(Xn.a,null)),c.a.createElement(va.a,{variant:"inherit"},"Create file"))})),Ra=n(372),Ua=n.n(Ra);var Aa=Object(u.b)((function(e){return{}}),(function(e){return{handleClick:function(){e(Cn(a.UPLOAD_FILE))}}}))((function(e){var t,n=e.handleClick,a=e.handleClose;return c.a.createElement(Ia.a,{onClick:(t=n,function(){t(),a()})},c.a.createElement(Gn.a,null,c.a.createElement(Ua.a,null)),c.a.createElement(va.a,{variant:"inherit"},"Upload files"))})),Fa=n(373),Ba=n.n(Fa);var Ha=Object(u.b)((function(e){return{}}),(function(e){return{handleClick:function(){e(Cn(a.CHOOSE_LOCATION))}}}))((function(e){var t,n=e.handleClick,a=e.handleClose;return c.a.createElement(Ia.a,{onClick:(t=n,function(){t(),a()})},c.a.createElement(Gn.a,null,c.a.createElement(Ba.a,null)),c.a.createElement(va.a,{variant:"inherit"},"Choose root location"))})),Wa=function(e){function t(){var e,n;Object(U.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(F.a)(this,(e=Object(B.a)(t)).call.apply(e,[this].concat(r)))).state={anchorEl:null},n.handleClick=function(e){n.setState({anchorEl:e.currentTarget})},n.handleClose=function(){n.setState({anchorEl:null})},n}return Object(H.a)(t,e),Object(A.a)(t,[{key:"render",value:function(){var e=this.state.anchorEl;return c.a.createElement("div",{style:{marginLeft:"1em"}},c.a.createElement(ya.a,{color:"inherit","aria-label":"More","aria-owns":Boolean(e)?"long-menu":void 0,"aria-haspopup":"true",onClick:this.handleClick},c.a.createElement(La.a,null)),c.a.createElement(Ta.a,{anchorEl:e,open:Boolean(e),onClose:this.handleClose},c.a.createElement(Ma,{handleClose:this.handleClose}),c.a.createElement(_a,{handleClose:this.handleClose}),c.a.createElement(Aa,{handleClose:this.handleClose}),c.a.createElement(Ha,{handleClose:this.handleClose})))}}]),t}(c.a.Component),Ga=Object(u.b)((function(){return{}}),(function(){return{}}))(Wa),Va=n(173),qa=n.n(Va),za=n(24),Ya=n.n(za),Ja=(n(766),function(e){function t(){return Object(U.a)(this,t),Object(F.a)(this,Object(B.a)(t).apply(this,arguments))}return Object(H.a)(t,e),Object(A.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.handleClickPath,a=e.path,r=e.rootTitle,i=e.handleGoBack,o=e.canGoBack,l=c.a.createElement("span",null,">"),u=c.a.createElement("span",{onClick:function(){return n(-1)},"data-index":0},r," ",a.length?l:""),s=Object(O.a)(a).pop()||r,f=a.map((function(e,t){return c.a.createElement("span",{key:t,"data-index":t,onClick:function(e){return n(t)}},c.a.createElement("span",null,e)," ",a.length-1!==t?l:"","\xa0")}));return c.a.createElement("div",{className:"BreadcrumbText"},c.a.createElement("div",{className:t.lastPath},c.a.createElement(Ya.a,{onClick:i,color:"inherit",type:"button",style:{display:o?"inline-flex":"none"}},c.a.createElement(qa.a,null)),s),c.a.createElement("div",{className:t.paths},u," ",f))}}]),t}(r.Component)),Xa=Object(In.withStyles)((function(e){return Object(In.createStyles)({lastPath:Object(f.a)({display:"block"},e.breakpoints.up("sm"),{display:"none"}),paths:Object(f.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"})})}))(Object(u.b)((function(){return{}}),(function(){return{}}))(Ja));var $a=Object(In.withStyles)((function(e){return Object(In.createStyles)({root:{width:"100%",marginBottom:"4.3em"},grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20},title:Object(f.a)({display:"block"},e.breakpoints.up("sm"),{display:"block"}),search:Object(f.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(Oa.fade)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(Oa.fade)(e.palette.common.white,.25)},marginLeft:0,width:"100%",display:"none"},e.breakpoints.up("sm"),{marginLeft:e.spacing.unit,width:"auto",display:"block"}),searchIcon:{width:9*e.spacing.unit,height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit",width:"100%"},inputInput:Object(f.a)({paddingTop:e.spacing.unit,paddingRight:e.spacing.unit,paddingBottom:e.spacing.unit,paddingLeft:10*e.spacing.unit,transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:100,"&:focus":{width:200}})})}))(Object(u.b)((function(e){return{filter:e.items.filter,path:e.path,canGoBack:e.path.length>0}}),(function(e){return{handleChange:function(t){e(mn(t.currentTarget.value))},moveUpwards:function(t){e(function(e){return function(t,n){t(Zt(e)),t(Ft())}}(t))},handleRefresh:function(){return e(Ft())}}}))((function(e){var t=e.classes,n=e.path,a=e.filter,r=e.moveUpwards,i=e.canGoBack,o=e.handleChange,l=e.handleRefresh;return c.a.createElement("div",{className:t.root},c.a.createElement(ha.a,{position:"fixed"},c.a.createElement(da.a,null,c.a.createElement(va.a,{className:t.title,variant:"h6",color:"inherit",noWrap:!0},c.a.createElement(Xa,{path:n,handleClickPath:function(e){return r(n.length-e-1)},handleGoBack:function(){return r(1)},canGoBack:i,rootTitle:"Root"})),c.a.createElement("div",{className:t.grow}),c.a.createElement("div",{className:t.search},c.a.createElement("div",{className:t.searchIcon},c.a.createElement(ja.a,null)),c.a.createElement(Ea.a,{placeholder:"Search\u2026",value:a,onChange:o,classes:{root:t.inputRoot,input:t.inputInput}})),c.a.createElement(ya.a,{color:"inherit","aria-label":"Refresh",onClick:l},c.a.createElement(wa.a,null)),c.a.createElement(Ga,null))))}))),Ka=(n(772),n(111)),Qa=n.n(Ka);var Za=Object(u.b)((function(e){return{selectedItems:e.items.selected}}),(function(e){return{handleClick:function(t){var n=t[0];n instanceof de?e($t(n)):n instanceof pe&&(n.isEditable()?e(Wt(n.name)):n.isImage()?e(Gt(n.name)):n.isMedia()&&e(Vt()))}}}))((function(e){var t=e.handleClick,n=e.selectedItems;return c.a.createElement(Ia.a,{onClick:function(){return t(n)}},c.a.createElement(Gn.a,null,c.a.createElement(Qa.a,null)),c.a.createElement(va.a,{variant:"inherit"},"Open"))})),er=n(379),tr=n.n(er);var nr=Object(u.b)((function(e){return{selectedItems:e.items.selected}}),(function(e){return{handleClick:function(t){e(qt(t))}}}))((function(e){var t=e.handleClick,n=e.selectedItems;return c.a.createElement(Ia.a,{onClick:function(){return t(n)}},c.a.createElement(Gn.a,null,c.a.createElement(tr.a,null)),c.a.createElement(va.a,{variant:"inherit"},"Remove"))})),ar=n(380),rr=n.n(ar);var cr=Object(u.b)((function(e){return{}}),(function(e){return{handleClick:function(){e(Cn(a.MOVE))}}}))((function(e){var t=e.handleClick;return c.a.createElement(Ia.a,{onClick:function(){return t()}},c.a.createElement(Gn.a,null,c.a.createElement(rr.a,null)),c.a.createElement(va.a,{variant:"inherit"},"Move"))})),ir=n(381),or=n.n(ir);var lr=Object(u.b)((function(e){return{}}),(function(e){return{handleClick:function(){e(Cn(a.COPY))}}}))((function(e){var t=e.handleClick;return c.a.createElement(Ia.a,{onClick:t},c.a.createElement(Gn.a,null,c.a.createElement(or.a,null)),c.a.createElement(va.a,{variant:"inherit"},"Copy"))}));var ur=Object(u.b)((function(e){return{selectedItems:e.items.selected}}),(function(e){return{handleClick:function(t){e(Wt(t[0].name))}}}))((function(e){var t=e.handleClick,n=e.selectedItems;return c.a.createElement(Ia.a,{onClick:function(){return t(n)}},c.a.createElement(Gn.a,null,c.a.createElement(Qa.a,null)),c.a.createElement(va.a,{variant:"inherit"},"Edit"))}));var sr=Object(u.b)((function(e){return{selectedItems:e.items.selected}}),(function(e){return{handleClick:function(t){var n;e((n=t[0].name,function(e,t){e(Ht(n)),e(Cn(a.EDITTAGS))}))}}}))((function(e){var t=e.handleClick,n=e.selectedItems;return c.a.createElement(Ia.a,{onClick:function(){return t(n)}},c.a.createElement(Gn.a,null,c.a.createElement(Qa.a,null)),c.a.createElement(va.a,{variant:"inherit"},"Edit tags"))})),fr=n(382),hr=n.n(fr);var pr=Object(u.b)((function(e){return{}}),(function(e){return{handleClick:function(){e(Cn(a.RENAME))}}}))((function(e){var t=e.handleClick;return c.a.createElement(Ia.a,{onClick:t},c.a.createElement(Gn.a,null,c.a.createElement(hr.a,null)),c.a.createElement(va.a,{variant:"inherit"},"Rename"))})),dr=n(383),mr=n.n(dr);var vr=Object(u.b)((function(e){return{selectedItems:e.items.selected}}),(function(e){return{handleClick:function(t){var n;e((n=t,function(e,t){var a=t().path;e(bn());var r=1===n.length&&n[0]instanceof de?"".concat(n[0].name,".zip"):"Archive.zip";Ct(a.join("/"),n).then((function(e){return e.generateAsync({type:"blob"})})).then((function(e){return jt(a.join("/"),r,e)})).then((function(){return e(At())})).catch((function(t){return e(Sn(String(t)))})).finally((function(){return e(En())}))}))}}}))((function(e){var t=e.handleClick,n=e.selectedItems;return c.a.createElement(Ia.a,{onClick:function(){return t(n)}},c.a.createElement(Gn.a,null,c.a.createElement(mr.a,null)),c.a.createElement(va.a,{variant:"inherit"},"Zip here"))})),br=n(384),Er=n.n(br);var gr=Object(u.b)((function(e){return{selectedItems:e.items.selected}}),(function(e){return{handleClick:function(t){var n;e((n=t[0].name,function(e,t){var a=t().path;e(bn()),xt(a.join("/"),a.join("/"),n).then((function(t){return e(At())})).catch((function(t){return e(Sn(String(t)))})).finally((function(){return e(En())}))}))}}}))((function(e){var t=e.handleClick,n=e.selectedItems;return c.a.createElement(Ia.a,{onClick:function(){return t(n)}},c.a.createElement(Gn.a,null,c.a.createElement(Er.a,null)),c.a.createElement(va.a,{variant:"inherit"},"Extract here"))})),yr=n(385),Or=n.n(yr);var kr=Object(u.b)((function(e){return{selectedItems:e.items.selected}}),(function(e){return{handleClick:function(t){var n;e((n=t,function(){var e=Object(z.a)(q.a.mark((function e(t,a){var r,c,i,o,l;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a(),c=r.path,t(bn()),e.prev=2,o=n[0].name,!(1===n.length&&n[0]instanceof pe)){e.next=10;break}return e.next=7,bt(c.join("/"),n[0].name);case 7:i=e.sent,e.next=18;break;case 10:return e.next=12,Ct(c.join("/"),n);case 12:return l=e.sent,e.next=15,l.generateAsync({type:"blob"});case 15:i=e.sent,n.length>1&&(o="Archive"),o="".concat(o,".zip");case 18:Bt(i,o),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(2),t(Sn(String(e.t0)));case 24:t(En());case 25:case"end":return e.stop()}}),e,null,[[2,21]])})));return function(t,n){return e.apply(this,arguments)}}()))}}}))((function(e){var t=e.handleClick,n=e.selectedItems;return c.a.createElement(Ia.a,{onClick:function(){return t(n)}},c.a.createElement(Gn.a,null,c.a.createElement(Or.a,null)),c.a.createElement(va.a,{variant:"inherit"},1===n.length&&n[0]instanceof pe?"Download":"Download Zip"))})),jr=n(386),Cr=n.n(jr);var wr=Object(u.b)((function(e){return{selectedItems:e.items.selected}}),(function(e){return{handleClick:function(t){var n;e((n=t[0],function(e,t){window.open(n.url,"_blank")}))}}}))((function(e){var t=e.handleClick,n=e.selectedItems;return c.a.createElement(Ia.a,{onClick:function(){return t(n)}},c.a.createElement(Gn.a,null,c.a.createElement(Cr.a,null)),c.a.createElement(va.a,{variant:"inherit"},"Open in new Tab"))})),xr=function(e){function t(){return Object(U.a)(this,t),Object(F.a)(this,Object(B.a)(t).apply(this,arguments))}return Object(H.a)(t,e),Object(A.a)(t,[{key:"render",value:function(){var e=this.props,t=e.acts,n=e.open,a=e.x,r=e.y;return c.a.createElement("div",null,c.a.createElement(Ta.a,{anchorReference:"anchorPosition",anchorPosition:{top:r,left:a},transformOrigin:{vertical:"top",horizontal:"left"},open:n,onClose:function(){},PaperProps:{style:{width:190}}},t.includes("open")&&c.a.createElement(Za,null),t.includes("openInNewTab")&&c.a.createElement(wr,null),t.includes("download")&&c.a.createElement(kr,null),t.includes("upload")&&c.a.createElement(Aa,null),t.includes("compress")&&c.a.createElement(vr,null),t.includes("extract")&&c.a.createElement(gr,null),t.includes("edit")&&c.a.createElement(ur,null),t.includes("editTags")&&c.a.createElement(sr,null),t.includes("copy")&&c.a.createElement(lr,null),t.includes("move")&&c.a.createElement(cr,null),t.includes("rename")&&c.a.createElement(pr,null),t.includes("remove")&&c.a.createElement(nr,null)))}}]),t}(r.Component),Tr=function(e){return 1===e.length?Sr(e[0]):["copy","move","remove","download","compress"]},Sr=function(e){return[].concat(["openInNewTab","copy","move","rename","remove","download","editTags"],Object(O.a)(e instanceof pe?Lr(e):Nr(e)))},Lr=function(e){var t=[];return e.isEditable()&&t.push("edit"),e.isExtractable()&&t.push("extract"),(e.isImage()||e.isMedia())&&t.push("open"),t},Nr=function(e){return["open","compress","upload"]},Ir=Object(u.b)((function(e){return{x:e.contextMenu.x,y:e.contextMenu.y,open:e.contextMenu.open,acts:Tr(e.items.selected)}}),(function(){return{}}))(xr),Dr=n(42),Pr=n.n(Dr),Mr=n(45),_r=n.n(Mr),Rr=n(44),Ur=n.n(Rr),Ar=n(43),Fr=n.n(Ar),Br=n(80),Hr=n.n(Br),Wr=n(394),Gr=function(e){function t(e){var n;return Object(U.a)(this,t),(n=Object(F.a)(this,Object(B.a)(t).call(this,e))).history=void 0,n.states=void 0,n.stateIndex=void 0,n.states=[],n.stateIndex=-1,n.history=Object(Wr.a)(),n.history.listen((function(e,t){switch(t){case"POP":n.handlePop(e);break;case"REPLACE":n.handleReplace(e);break;case"PUSH":n.handlePush(e)}})),n}return Object(H.a)(t,e),Object(A.a)(t,[{key:"componentDidUpdate",value:function(){var e=this.props,t=e.host,n=e.path;if(null!==t){if(0===this.states.length||this.stateIndex<0)return this.updateBrowserHistory();var a=this.states[this.stateIndex];qr({host:t,path:n},a)||this.updateBrowserHistory()}}},{key:"updateBrowserHistory",value:function(){var e=this.props,t=e.host,n=e.path,a=encodeURI("".concat(t,"/").concat(n.join("/"))),r={host:t||"",path:n,index:this.stateIndex+1};this.history.push("?url=".concat(a),r)}},{key:"handlePop",value:function(e){this.stateIndex=e.state.index,this.props.handlePop(e)}},{key:"handleReplace",value:function(e){this.states[this.stateIndex]=e.state}},{key:"handlePush",value:function(e){this.states=[].concat(Object(O.a)(this.states.slice(0,++this.stateIndex)),[e.state])}},{key:"render",value:function(){return c.a.createElement(c.a.Fragment,null)}}]),t}(r.Component),Vr=function(e){var t=new URL(e);return{host:t.origin,path:t.pathname.split("/").filter((function(e){return""!==e}))}},qr=function(e,t){return e.host===t.host&&e.path.length===t.path.length&&e.path.every((function(e,n){return e===t.path[n]}))},zr=Object(u.b)((function(e){return{host:e.account.host,path:e.path}}),(function(e){return{handlePop:function(t){var n="",a=[];if(t&&"undefined"!==typeof t.state){var r=t.state;n=r.host,a=r.path}else{var c=new URLSearchParams(t.search.substr(1)).get("url");if(null!==c){var i=Vr(c);n=i.host,a=i.path}}e(rn(n)),e(Xt(a))}}}))(Gr),Yr=function(e){function t(){var e,n;Object(U.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(F.a)(this,(e=Object(B.a)(t)).call.apply(e,[this].concat(r)))).state={location:""},n}return Object(H.a)(t,e),Object(A.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.isLoggedIn,n=e.webId,a=new URLSearchParams(document.location.search.substr(1)).get("url");if(null!==a){var r=decodeURI(a);this.setState({location:r})}else if(t&&n){var c=new URL(n).origin;this.setState({location:c})}}},{key:"handleChange",value:function(e){var t=e.currentTarget.form;if(t){var n=t.querySelector("input");if(n){var a=n.value;return void this.setState({location:a})}}console.log("Couldn't find location input")}},{key:"handleSubmit",value:function(e){this.props.handleSubmit(e,{location:this.state.location})}},{key:"render",value:function(){var e=this.state.location;e=e||"";var t=this.props,n=t.handleClose,a=t.handleLogin,r=t.handleLogout,i=t.open,o=t.isLoggedIn,l=t.webId;return c.a.createElement(Pr.a,{open:i,onClose:n,"aria-labelledby":"form-dialog-choose-location",fullWidth:!0,maxWidth:"sm"},c.a.createElement("form",null,c.a.createElement(Fr.a,{id:"form-dialog-choose-location"},"Choose the storage location"),c.a.createElement(Ur.a,null,c.a.createElement(va.a,{variant:"body1",gutterBottom:!0},o?"Logged in as "+l+".":"If you want to access private resources, please login with the button below."),o?c.a.createElement(Ya.a,{variant:"outlined",onClick:r},"Logout"):c.a.createElement(Ya.a,{variant:"outlined",color:"primary",onClick:a},"Login"),c.a.createElement(va.a,{variant:"body1"},"Please enter the directory you want to open below."),c.a.createElement(Hr.a,{autoFocus:!0,fullWidth:!0,margin:"normal",label:"Storage Location",variant:"outlined",onChange:this.handleChange.bind(this),value:e})),c.a.createElement(_r.a,null,c.a.createElement(Ya.a,{onClick:n,color:"primary",type:"button"},"Cancel"),c.a.createElement(Ya.a,{color:"primary",type:"submit",onClick:this.handleSubmit.bind(this)},"Open directory"))))}}]),t}(r.Component),Jr=Object(u.b)((function(e){return{open:e.visibleDialogs.CHOOSE_LOCATION,webId:e.account.webId,isLoggedIn:e.account.loggedIn}}),(function(e){return{handleClose:function(){e(wn(a.CHOOSE_LOCATION))},handleLogin:function(t){t.preventDefault(),e(Dt())},handleLogout:function(t){t.preventDefault(),e((function(e,t){e(bn()),ee.logout().then((function(){e(tn()),e(un()),e(pn()),e(an()),e(on()),e(Cn(a.CHOOSE_LOCATION))})).catch((function(t){return e(Sn(String(t)))})).finally((function(){return e(En())}))}))},handleSubmit:function(t,n){var r=n.location;if(t.preventDefault(),!r)return e(Sn("Please enter the folder which should be opened"));var c=Vr(r),i=c.host,o=c.path;e(wn(a.CHOOSE_LOCATION)),e(rn(i)),e(_t()),e(Xt(o))}}}))(Yr),Xr=function(e){function t(){var e,n;Object(U.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(F.a)(this,(e=Object(B.a)(t)).call.apply(e,[this].concat(r)))).state={lastBlobUrl:null,content:"...",loading:!1},n}return Object(H.a)(t,e),Object(A.a)(t,[{key:"componentDidUpdate",value:function(){this.props.blobUrl!==this.state.lastBlobUrl&&(this.setState({lastBlobUrl:this.props.blobUrl}),this.setState({loading:!0}))}},{key:"render",value:function(){var e=this.props,t=e.handleClose,n=e.open;return c.a.createElement("div",{style:{marginLeft:"1em"}},c.a.createElement(Pr.a,{open:n,onClose:t,"aria-labelledby":"form-dialog-content",fullWidth:!0,maxWidth:"sm"},c.a.createElement(Fr.a,{id:"form-dialog-content"},"Viewing file "),c.a.createElement(Ur.a,null,c.a.createElement("img",{src:this.props.blobUrl,alt:"",style:{maxWidth:"100%"}})),c.a.createElement(_r.a,null,c.a.createElement(Ya.a,{onClick:t,color:"primary",type:"button"},"Close"))))}}]),t}(r.Component),$r=Object(u.b)((function(e){return{open:e.visibleDialogs.CONTENT,blobUrl:e.blob||void 0}}),(function(e){return{handleClose:function(){e(wn(a.CONTENT))}}}))(Xr),Kr=n(387),Qr=n.n(Kr),Zr=(n(796),function(e){function t(){return Object(U.a)(this,t),Object(F.a)(this,Object(B.a)(t).apply(this,arguments))}return Object(H.a)(t,e),Object(A.a)(t,[{key:"render",value:function(){var e=this.props,t=e.file,n=e.handleClose,a=e.open,r=t?t.url:void 0,i=t?t.isVideo()?"video":"audio":void 0;return c.a.createElement(Pr.a,{open:a,onClose:n,"aria-labelledby":"form-dialog-display-media",fullWidth:!0,maxWidth:"lg"},c.a.createElement(Fr.a,{id:"form-dialog-display-media"},"Display Media"),c.a.createElement(Ur.a,null,t?c.a.createElement("div",null,c.a.createElement("p",null,"Playing ",t.name),c.a.createElement(Qr.a,{type:i,url:r,iconUrl:"./vendor/plyr/plyr.svg"})):c.a.createElement("p",null,"No media file opened")),c.a.createElement(_r.a,null,c.a.createElement(Ya.a,{onClick:n,color:"primary",type:"button"},"Close")))}}]),t}(r.Component)),ec=Object(u.b)((function(e){var t=e.visibleDialogs.MEDIA,n=e.items.selected[0];return n instanceof pe?{open:t,file:n}:{open:t}}),(function(e){return{handleClose:function(){e(wn(a.MEDIA))}}}))(Zr),tc=n(388),nc=n.n(tc),ac=function(e){function t(){var e,n;Object(U.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(n=Object(F.a)(this,(e=Object(B.a)(t)).call.apply(e,[this].concat(c)))).textField=Object(r.createRef)(),n.state={lastBlobUrl:null,content:null,loading:!1},n}return Object(H.a)(t,e),Object(A.a)(t,[{key:"componentDidUpdate",value:function(){var e=this;this.props.blobUrl!==this.state.lastBlobUrl&&(this.setState({lastBlobUrl:this.props.blobUrl}),this.setState({loading:!0}),this.props.blobUrl&&fetch(this.props.blobUrl).then((function(e){return e.text()})).then((function(t){e.setState({content:t}),e.setState({loading:!1})})))}},{key:"handleSave",value:function(e){e.preventDefault();var t=this.textField.current,n=this.props.item;if(t&&n){var a=t.value;this.props.handleSubmit(e,{itemName:n.name,content:a})}}},{key:"render",value:function(){var e=this.props,t=e.handleClose,n=e.open,a=e.item,r=a?a.getDisplayName():"No item selected",i=c.a.createElement("textarea",{style:{width:"100%",minHeight:"300px"},defaultValue:this.state.content||"",ref:this.textField});return c.a.createElement("div",null,c.a.createElement(Pr.a,{open:n,onClose:t,"aria-labelledby":"form-dialog-edit",fullWidth:!0,maxWidth:"sm"},c.a.createElement("form",null,c.a.createElement(Fr.a,{id:"form-dialog-edit"},"Editing file ",r," "),c.a.createElement(Ur.a,null,c.a.createElement(nc.a,null,this.state.loading?"Loading...":i)),c.a.createElement(_r.a,null,c.a.createElement(Ya.a,{onClick:t,color:"primary",type:"button"},"Close"),c.a.createElement(Ya.a,{color:"primary",onClick:this.handleSave.bind(this),type:"submit"},"Update")))))}}]),t}(r.Component),rc=Object(u.b)((function(e){return{open:e.visibleDialogs.EDIT,item:e.items.selected[0],blobUrl:e.blob||""}}),(function(e){return{handleClose:function(){e(wn(a.EDIT))},handleSubmit:function(t,n){var r=n.itemName,c=n.content;e(function(e,t){return function(n,r){var c=r().path;n(bn()),jt(c.join("/"),e,t).then((function(e){n(wn(a.EDIT)),n(At())})).catch((function(e){return n(Sn(String(e)))})).finally((function(){return n(En())}))}}(r,c))}}}))(ac),cc=n(393);var ic=function(e,t){var n="jsonp_callback_"+Math.round(1e5*Math.random());window[n]=function(e){delete window[n],document.body.removeChild(a),t(e)};var a=document.createElement("script");a.src=e+(e.indexOf("?")>=0?"&":"?")+"callback="+n,document.body.appendChild(a)},oc=n(175),lc=n.n(oc),uc=n(389),sc=n.n(uc),fc=n(174),hc=n.n(fc),pc=n(132),dc=n.n(pc),mc=(n(798),function(e){function t(){return Object(U.a)(this,t),Object(F.a)(this,Object(B.a)(t).apply(this,arguments))}return Object(H.a)(t,e),Object(A.a)(t,[{key:"tagHandleClick",value:function(){this.props.data.published=!this.props.data.published,this.forceUpdate()}},{key:"render",value:function(){var e=this.props.data,t={color:e.published?ft:"black"};return c.a.createElement("div",{id:e.value,style:t,onClick:this.tagHandleClick.bind(this)},e.tagType,": ",e.value)}}]),t}(c.a.Component)),vc=function e(t){Object(U.a)(this,e),this.tagType=void 0,this.value=void 0,this.published=void 0,this.label=void 0,this.tagType="FreeTag",this.value=t,this.published=!1,this.label=t},bc=function(e){function t(e){var n;return Object(U.a)(this,t),(n=Object(F.a)(this,Object(B.a)(t).call(this,e))).creatableSelect={},n.source="local",n.lastStr="",n.handleRadioChange=function(e,t){n.source=t,n.handleChange(n.lastStr),n.forceUpdate()},n.state={suggests:[]},n.creatableSelect=c.a.createRef(),n.focusCreatableSelect=n.focusCreatableSelect.bind(Object(Y.a)(n)),n}return Object(H.a)(t,e),Object(A.a)(t,[{key:"focusCreatableSelect",value:function(){this.creatableSelect.current&&this.creatableSelect.current.focus()}},{key:"componentDidMount",value:function(){this.focusCreatableSelect()}},{key:"handleChangeTagList",value:function(e){if(e)for(var t=0;t<e.length;t++)e[t]=new vc(e[t].value);this.props.meta.tags=e,this.forceUpdate()}},{key:"handleChange",value:function(e){var t=this;if(""!==e){this.lastStr=e;var n=[];"google"===this.source&&function(e,t){var n="https://suggestqueries.google.com/complete/search?client=firefox&q=".concat(t);ic(n,(function(t){return e(t)}))}((function(e){e[1].forEach((function(e){var t=new vc(e);n.push(t)})),t.setState({suggests:n})}),e),"local"===this.source&&ht.getLocalUsedTags().then((function(e){e.forEach((function(e){var t=new vc(e.value);n.push(t)})),t.setState({suggests:n})})),"central"===this.source&&ht.getCentralUsedTags().then((function(e){e.forEach((function(e){var t=new vc(e.value);n.push(t)})),t.setState({suggests:n})}))}}},{key:"selectAllToCentral",value:function(e){this.props.meta.tags.forEach((function(t){t.published=e.target.checked})),this.forceUpdate()}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"bodyPlace"},c.a.createElement("div",{className:"leftplace"},c.a.createElement(dc.a,null,c.a.createElement(sc.a,{"aria-label":"gender",value:this.source,onChange:this.handleRadioChange},c.a.createElement(hc.a,{value:"local",control:c.a.createElement(lc.a,{color:"primary",style:{padding:"0 20px 5px 0px"}}),label:"Local",labelPlacement:"start",style:{padding:"0 15px 5px 0"}}),c.a.createElement(hc.a,{value:"central",control:c.a.createElement(lc.a,{color:"primary",style:{padding:"0 20px 5px 0px"}}),label:"Central",labelPlacement:"start",style:{padding:"0 15px 5px 0"}}),c.a.createElement(hc.a,{value:"google",control:c.a.createElement(lc.a,{color:"primary",style:{padding:"0 20px 5px 0px"}}),label:"Google",labelPlacement:"start",style:{padding:"0 15px 5px 0"}})))),c.a.createElement("div",{className:"rightplace"},c.a.createElement("div",null,c.a.createElement(cc.a,{ref:this.creatableSelect,components:{MultiValueLabel:mc},options:this.state.suggests,value:this.props.meta.tags,isMulti:!0,className:"creatableSelect",onChange:this.handleChangeTagList.bind(this),onInputChange:this.handleChange.bind(this)})),c.a.createElement("div",null,c.a.createElement(Fn.a,{color:"primary",style:{padding:"0 0 0 0"},onChange:function(t){return e.selectAllToCentral(t)}})," Publish all tags to central")))}}]),t}(c.a.Component),Ec=n(225),gc=n.n(Ec),yc=function(e){function t(){var e,n;Object(U.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(F.a)(this,(e=Object(B.a)(t)).call.apply(e,[this].concat(r)))).currentMeta={},n.saveButtonText="",n.handleClose={},n.handleChange=function(e){return function(t){"mimeType"===e&&(n.currentMeta.mimeType=t.target.value),n.forceUpdate()}},n}return Object(H.a)(t,e),Object(A.a)(t,[{key:"handleSave",value:function(e){e.preventDefault();var t=[];this.currentMeta.tags&&this.currentMeta.tags.forEach((function(e){t.push({tagType:"FreeTag",value:e.value,published:e.published})})),this.currentMeta.tags=t,this.props.handleSubmit(e,this.currentMeta),this.setState({item:null}),ht.allLocalMeta=[]}},{key:"render",value:function(){var e=this;this.props.item&&ht.getOrInitMeta(this.props.item).then((function(t){e.currentMeta=t}));var t=this.props,n=t.handleClose,a=t.open,r=t.item;if(r){this.handleClose=n;var i="";if(this.currentMeta&&this.currentMeta.pathName){var o=this.currentMeta.pathName.split(".");o.length>1&&(i=o[1])}return c.a.createElement("div",{id:"1"},c.a.createElement(Pr.a,{id:"2",fullScreen:!1,open:a,onClose:n,"aria-labelledby":"form-dialog-edit",fullWidth:!0,maxWidth:"sm",PaperProps:{style:{overflow:"visible"}}},c.a.createElement("form",{id:"3 "},c.a.createElement(Fr.a,{id:"form-dialog-edit"},"Editing TAGS : ",r.getDisplayName()),c.a.createElement(Ur.a,{style:{overflow:"visible"}},c.a.createElement(bc,{meta:this.currentMeta}),""===i?c.a.createElement("div",null,c.a.createElement("br",null),"File has no extension, enter file type:\xa0",c.a.createElement(dc.a,null,c.a.createElement(gc.a,{native:!0,value:this.currentMeta.mimeType,onChange:this.handleChange("mimeType")},c.a.createElement("option",{value:""}),c.a.createElement("option",{value:"text-plain"},"text-plain"),c.a.createElement("option",{value:"multipart/mixed"},"mixed"),c.a.createElement("option",{value:"image/jpeg}"},"image")))):c.a.createElement("div",null,c.a.createElement("br",null),"Extension file : ",i)),c.a.createElement(_r.a,null,c.a.createElement(Ya.a,{onClick:n,color:"primary",type:"button"},"Close"),c.a.createElement(Ya.a,{color:"primary",onClick:this.handleSave.bind(this),type:"submit"},"Save")))))}return null}}]),t}(r.Component),Oc=Object(u.b)((function(e){return{open:e.visibleDialogs.EDITTAGS,meta:e.metas.selected[0],item:e.items.selected[0],saveText:""}}),(function(e){return{handleClose:function(){e(wn(a.EDITTAGS))},handleSubmit:function(t,n){e(Rt(n))}}}))(yc),kc=function(e){function t(){var e,n;Object(U.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(n=Object(F.a)(this,(e=Object(B.a)(t)).call.apply(e,[this].concat(c)))).textField=Object(r.createRef)(),n}return Object(H.a)(t,e),Object(A.a)(t,[{key:"handleSubmit",value:function(e){var t=this.textField.current;if(t){var n=t.value;this.props.handleSubmit(e,{folderName:n})}}},{key:"render",value:function(){var e=this.props,t=e.handleClose,n=e.open;return c.a.createElement(Pr.a,{open:n,onClose:t,"aria-labelledby":"form-dialog-create-folder",fullWidth:!0,maxWidth:"sm"},c.a.createElement("form",null,c.a.createElement(Fr.a,{id:"form-dialog-create-folder"},"Create folder"),c.a.createElement(Ur.a,null,c.a.createElement(Hr.a,{autoFocus:!0,fullWidth:!0,margin:"dense",label:"Folder name",type:"text",inputRef:this.textField})),c.a.createElement(_r.a,null,c.a.createElement(Ya.a,{onClick:t,color:"primary",type:"button"},"Cancel"),c.a.createElement(Ya.a,{color:"primary",type:"submit",onClick:this.handleSubmit.bind(this)},"Save"))))}}]),t}(r.Component),jc=Object(u.b)((function(e){return{open:e.visibleDialogs.CREATE_FOLDER}}),(function(e){return{handleClose:function(){e(wn(a.CREATE_FOLDER))},handleSubmit:function(t,n){var r=n.folderName;t.preventDefault(),e(function(e){return function(t,n){var r=n().path;t(bn()),yt(r.join("/"),e).then((function(e){t(At()),t(wn(a.CREATE_FOLDER))})).catch((function(e){return t(Sn(String(e)))})).finally((function(){return t(En())}))}}(r))}}}))(kc),Cc=function(e){function t(){var e,n;Object(U.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(n=Object(F.a)(this,(e=Object(B.a)(t)).call.apply(e,[this].concat(c)))).textField=Object(r.createRef)(),n}return Object(H.a)(t,e),Object(A.a)(t,[{key:"handleSubmit",value:function(e){var t=this.textField.current;if(t){var n=t.value;this.props.handleSubmit(e,{fileName:n})}}},{key:"render",value:function(){var e=this.props,t=e.handleClose,n=e.open;return c.a.createElement(Pr.a,{open:n,onClose:t,"aria-labelledby":"form-dialog-create-file",fullWidth:!0,maxWidth:"sm"},c.a.createElement("form",null,c.a.createElement(Fr.a,{id:"form-dialog-create-file"},"Create file"),c.a.createElement(Ur.a,null,c.a.createElement(Hr.a,{autoFocus:!0,fullWidth:!0,margin:"dense",label:"File name",type:"text",inputRef:this.textField})),c.a.createElement(_r.a,null,c.a.createElement(Ya.a,{onClick:t,color:"primary",type:"button"},"Cancel"),c.a.createElement(Ya.a,{color:"primary",type:"submit",onClick:this.handleSubmit.bind(this)},"Create"))))}}]),t}(r.Component),wc=Object(u.b)((function(e){return{open:e.visibleDialogs.CREATE_FILE}}),(function(e){return{handleClose:function(){e(wn(a.CREATE_FILE))},handleSubmit:function(t,n){var r=n.fileName;t.preventDefault(),e(function(e){return function(t,n){var r=n().path;t(bn()),jt(r.join("/"),e,new Blob).then((function(n){return t(wn(a.CREATE_FILE)),t(At()),t(Wt(e)),vt(r.join("/"))})).then((function(t){return t.find((function(t){return t.getDisplayName()===e}))})).then((function(e){if(!e)throw new Error("Couldn't load created file for editing");t(hn(e)),t(Ht(e.name))})).catch((function(e){return t(Sn(String(e)))})).finally((function(){return t(En())}))}}(r))}}}))(Cc),xc=function(e){function t(){var e,n;Object(U.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(n=Object(F.a)(this,(e=Object(B.a)(t)).call.apply(e,[this].concat(c)))).textField=Object(r.createRef)(),n}return Object(H.a)(t,e),Object(A.a)(t,[{key:"handleSubmit",value:function(e){var t=this.textField.current,n=this.props.item;if(t&&n){var a=t.value;this.props.handleSubmit(e,{item:n,newName:a})}}},{key:"render",value:function(){var e=this.props,t=e.handleClose,n=e.open,a=e.item,r=a?a.name:"";return c.a.createElement(Pr.a,{open:n,onClose:t,"aria-labelledby":"form-dialog-create-folder",fullWidth:!0,maxWidth:"sm"},c.a.createElement("form",null,c.a.createElement(Fr.a,{id:"form-dialog-create-folder"},"Rename"),c.a.createElement(Ur.a,null,c.a.createElement(Hr.a,{autoFocus:!0,fullWidth:!0,margin:"dense",label:"Item name",type:"text",inputRef:this.textField,defaultValue:r})),c.a.createElement(_r.a,null,c.a.createElement(Ya.a,{onClick:t,color:"primary",type:"button"},"Cancel"),c.a.createElement(Ya.a,{color:"primary",type:"submit",onClick:this.handleSubmit.bind(this)},"Save"))))}}]),t}(r.Component),Tc=Object(u.b)((function(e){return{open:e.visibleDialogs.RENAME,item:e.items.selected[0]}}),(function(e){return{handleClose:function(){e(wn(a.RENAME))},handleSubmit:function(t,n){var r,c,i,o,l=n.item,u=n.newName;t.preventDefault(),e(l instanceof de?(i=l.name,o=u,function(e,t){var n=t().path;e(bn()),gt(n.join("/"),i,o).then((function(){e(At()),e(wn(a.RENAME))})).catch((function(t){return e(Sn(String(t)))})).finally((function(){return e(En())}))}):(r=l.name,c=u,function(e,t){var n=t().path;e(bn()),Et(n.join("/"),r,c).then((function(){e(At()),e(wn(a.RENAME))})).catch((function(t){return e(Sn(String(t)))})).finally((function(){return e(En())}))}))}}}))(xc);var Sc=function(e){var t=e.item,n=e.isSelected,a=e.handleClick,r=e.handleDoubleClick,i={backgroundColor:n?Kn.a.A200:void 0};return c.a.createElement("div",{className:"File",onClick:a,"data-selected":n,onDoubleClick:r},c.a.createElement("h1",null,"fileSublist.tsx"),c.a.createElement(re.a,null,c.a.createElement(Gn.a,null,c.a.createElement("div",{style:i},t instanceof pe?c.a.createElement(Xn.a,null):c.a.createElement(Yn.a,null))),c.a.createElement(ie.a,{primary:t.name,secondary:""}),c.a.createElement(qn.a,{absolute:!0})))};n(806);var Lc=function(e){var t=e.items,n=e.isLoading,a=e.handleOpenFolder,r=t.map((function(e,t){return c.a.createElement(Sc,{item:e,isSelected:!1,handleClick:function(){return a(e)},handleDoubleClick:function(){return a(e)},key:t})}));return c.a.createElement("div",{className:"FileListSublist"},n?c.a.createElement(Rn,null):r.length?r:c.a.createElement(ea,null))},Nc=function(e){function t(e){var n;Object(U.a)(this,t),(n=Object(F.a)(this,Object(B.a)(t).call(this,e))).host=void 0,n.path=void 0;var a=e.initialPath,r=e.initialHost;return n.host=r,n.path=a,n.state={items:[],isLoading:!0},n}return Object(H.a)(t,e),Object(A.a)(t,[{key:"componentDidUpdate",value:function(e){e.initialHost===this.props.initialHost&&e.initialPath.join("")===this.props.initialPath.join("")||(this.host=this.props.initialHost,this.path=this.props.initialPath,this.updateItems())}},{key:"handleGoBack",value:function(){this.path=this.path.slice(0,-1),this.updateItems()}},{key:"handleOpenFolder",value:function(e){this.path=[].concat(Object(O.a)(e.path),[e.name]),this.updateItems()}},{key:"updateItems",value:function(){var e=Object(z.a)(q.a.mark((function e(){var t;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isLoading:!0}),e.next=3,vt(this.path.join("/"));case 3:e.t0=function(e){return e instanceof de},t=e.sent.filter(e.t0),this.setState({isLoading:!1,items:t});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.open,n=e.handleClose,a=e.handleSubmit,r=e.actionName,i=this.state,o=i.items,l=i.isLoading,u=this.host,s=this.path,f="".concat(u,"/").concat(s.join("/")),h=s.length>0;return c.a.createElement(Pr.a,{open:t,onClose:n,"aria-labelledby":"form-dialog-move",fullWidth:!0,maxWidth:"sm"},c.a.createElement("form",null,c.a.createElement(Fr.a,{id:"form-dialog-move"},r," items to ",c.a.createElement("small",{style:{color:"grey"}},f)),c.a.createElement(Ur.a,null,c.a.createElement(Lc,{items:o,isLoading:l,handleOpenFolder:this.handleOpenFolder.bind(this)})),c.a.createElement(_r.a,null,c.a.createElement(Ya.a,{onClick:this.handleGoBack.bind(this),color:"primary",type:"button",disabled:!h},c.a.createElement(qa.a,null)," Go back directory"),c.a.createElement(Ya.a,{onClick:n,color:"primary",type:"button"},"Cancel"),c.a.createElement(Ya.a,{color:"primary",onClick:function(e){return a({host:u,path:s})},type:"submit"},r))))}}]),t}(r.Component);var Ic=Object(u.b)((function(e){return{open:e.visibleDialogs.MOVE,initialHost:e.account.host||"",initialPath:e.path,selectedItems:e.items.selected}}),(function(e){return{handleClose:function(){e(wn(a.MOVE))},move:function(t,n){e(function(e,t){t.host;var n=t.path;return function(t,r){var c=r().path;t(bn());var i=n.join("/"),o=e.map((function(e){return e.name}));Ot(c.join("/"),i,o).then((function(e){t(At()),t(wn(a.MOVE))})).catch((function(e){return t(Sn(String(e)))})).finally((function(){return t(En())}))}}(t,n))}}}))((function(e){var t=e.initialHost,n=e.initialPath,a=e.selectedItems,r=e.open,i=e.handleClose,o=e.move;return c.a.createElement(Nc,{open:r,actionName:"Move",initialHost:t,initialPath:n,handleClose:i,handleSubmit:function(e){return o(a,e)}})}));var Dc=Object(u.b)((function(e){return{open:e.visibleDialogs.COPY,initialHost:e.account.host||"",initialPath:e.path,selectedItems:e.items.selected}}),(function(e){return{handleClose:function(){e(wn(a.COPY))},copy:function(t,n){e(zt(t,n))}}}))((function(e){var t=e.initialHost,n=e.initialPath,a=e.selectedItems,r=e.open,i=e.handleClose,o=e.copy;return c.a.createElement(Nc,{open:r,actionName:"Copy",initialHost:t,initialPath:n,handleClose:i,handleSubmit:function(e){return o(a,e)}})})),Pc=n(390),Mc=n.n(Pc);var _c=function(e){var t=e.files,n=Array.from(t).map((function(e,t){return c.a.createElement(re.a,{dense:!0,key:t},c.a.createElement(Gn.a,null,c.a.createElement(Xn.a,null)),c.a.createElement(ie.a,{primary:"".concat(e.name," (").concat(ve(e.size),")")}))}));return c.a.createElement("div",null,c.a.createElement(X.a,{component:"nav"},n))},Rc=function(e){function t(){var e,n;Object(U.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(n=Object(F.a)(this,(e=Object(B.a)(t)).call.apply(e,[this].concat(c)))).inputRef=Object(r.createRef)(),n}return Object(H.a)(t,e),Object(A.a)(t,[{key:"handleReset",value:function(e){var t=this.inputRef.current;t&&(t.value="",this.props.handleReset(e))}},{key:"render",value:function(){var e=this.props,t=e.fileList,n=e.handleSelectedFiles,a={inputfile:{},inputreset:{display:t&&t.length?"inline-flex":"none"}};return c.a.createElement("div",null,c.a.createElement("label",{htmlFor:"button-file"},c.a.createElement("input",{style:a.inputfile,id:"button-file",ref:this.inputRef,multiple:!0,type:"file",onChange:n})),c.a.createElement(Ya.a,{style:a.inputreset,component:"span",type:"reset",onClick:this.handleReset.bind(this)},"Clear"),t&&c.a.createElement(_c,{files:t}))}}]),t}(r.Component),Uc=function(e){function t(){return Object(U.a)(this,t),Object(F.a)(this,Object(B.a)(t).apply(this,arguments))}return Object(H.a)(t,e),Object(A.a)(t,[{key:"render",value:function(){var e=this.props,t=e.handleClose,n=e.handleReset,a=e.handleSubmit,r=e.open,i=e.canUpload,o=e.progress,l=e.fileList,u=e.handleSelectedFiles;return c.a.createElement(Pr.a,{open:r,onClose:t,"aria-labelledby":"form-dialog-upload",fullWidth:!0,maxWidth:"sm"},c.a.createElement("form",null,c.a.createElement(Fr.a,{id:"form-dialog-upload"},"Upload files"),c.a.createElement(Ur.a,null,c.a.createElement(Rc,{fileList:l,handleSelectedFiles:u,handleReset:n}),i?c.a.createElement(Mc.a,{variant:"determinate",value:o}):null),c.a.createElement(_r.a,null,c.a.createElement(Ya.a,{onClick:t,color:"primary",type:"button"},"Cancel"),c.a.createElement(Ya.a,{color:"primary",onClick:a,disabled:!i,type:"submit"},"Upload"))))}}]),t}(r.Component),Ac=Object(u.b)((function(e){return{open:e.visibleDialogs.UPLOAD_FILE,canUpload:!!e.upload.fileList&&e.upload.fileList.length>0,fileList:e.upload.fileList,progress:e.upload.progress}}),(function(e){return{handleClose:function(t){e(Jt())},handleSubmit:function(t){t.preventDefault(),e((function(e,t){var n=t(),a=n.path,r=n.upload.fileList;if(null===r)return e(Sn("Couldn't find files to upload"));e(bn()),e(pn()),e(jn(50)),kt(a.join("/"),r).then((function(t){e(jn(100)),setTimeout((function(t){e(Jt())}),300),e(At())})).catch((function(t){return e(Sn(String(t)))})).finally((function(){return e(En())}))}))},handleSelectedFiles:function(t){var n=t.target.files;e(On(n))},handleReset:function(){e(kn())}}}))(Uc);var Fc=function(){return c.a.createElement("div",{className:"Dialogs"},c.a.createElement(Jr,null),c.a.createElement($r,null),c.a.createElement(ec,null),c.a.createElement(rc,null),c.a.createElement(Oc,null),c.a.createElement(jc,null),c.a.createElement(wc,null),c.a.createElement(Ic,null),c.a.createElement(Dc,null),c.a.createElement(Tc,null),c.a.createElement(Ac,null))},Bc=n(391),Hc=n.n(Bc),Wc=n(392),Gc=n.n(Wc),Vc=function(e){function t(){return Object(U.a)(this,t),Object(F.a)(this,Object(B.a)(t).apply(this,arguments))}return Object(H.a)(t,e),Object(A.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.errorMsg,a=e.handleClose,r=e.open,i=e.notificationDuration;return c.a.createElement("div",null,c.a.createElement(Hc.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:r,autoHideDuration:i,onClose:a,ContentProps:{"aria-describedby":"message-id"},message:c.a.createElement("span",{id:"message-id"},n),action:[c.a.createElement(ya.a,{key:"close","aria-label":"Close",color:"inherit",className:t.close,onClick:a},c.a.createElement(Gc.a,null))]}))}}]),t}(c.a.Component),qc=Object(u.b)((function(e){return{open:!!e.errorMessage,errorMsg:e.errorMessage,notificationDuration:6e4}}),(function(e){return{handleClose:function(){e(Sn(""))}}}))(Object(In.withStyles)((function(e){return Object(In.createStyles)({close:{padding:e.spacing.unit/2}})}))(Vc)),zc=Object(In.createMuiTheme)({palette:{},typography:{useNextVariants:!0}}),Yc=function(e){function t(){return Object(U.a)(this,t),Object(F.a)(this,Object(B.a)(t).apply(this,arguments))}return Object(H.a)(t,e),Object(A.a)(t,[{key:"componentDidMount",value:function(){this.props.init()}},{key:"render",value:function(){return c.a.createElement("div",{className:"App"},c.a.createElement(In.MuiThemeProvider,{theme:zc},c.a.createElement("div",{onClick:this.props.handleHideContextMenu,onContextMenu:this.props.handleHideContextMenu},c.a.createElement($a,null),c.a.createElement(sa,null),c.a.createElement(Ir,null),c.a.createElement(qc,null),c.a.createElement(Fc,null))),c.a.createElement(zr,null))}}]),t}(r.Component),Jc=Object(u.b)((function(){return{}}),(function(e){return{init:function(){e((function(e,t){e(Pt()),e(Cn(a.CHOOSE_LOCATION))}))},handleHideContextMenu:function(t){var n=t.target;"INPUT"===n.tagName||/label/i.test(n.className)||t.preventDefault(),e(Tn())}}}))(Yc),Xc=(n(815),n(816),Object(s.d)(M,Object(s.a)(l.a)));o.a.render(c.a.createElement(u.a,{store:Xc},c.a.createElement(Jc,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat(".","/service-worker.js");_?(!function(e,t){fetch(e).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):R(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")}))):R(t,e)}))}}({onUpdate:function(e){console.group("serviceWorker.onUpdate"),console.log(e),console.groupEnd()},onSuccess:function(e){console.group("serviceWorker.onSuccess"),console.log(e),console.groupEnd()}})}},[[395,1,2]]]);
//# sourceMappingURL=main.7967779a.chunk.js.map