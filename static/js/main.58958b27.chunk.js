(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{191:function(e,t,n){},252:function(e,t,n){e.exports=n(503)},265:function(e,t){},267:function(e,t,n){var a={"./N3Lexer":113,"./N3Lexer.js":113,"./N3Parser":114,"./N3Parser.js":114,"./N3Store":152,"./N3Store.js":152,"./N3StreamParser":153,"./N3StreamParser.js":153,"./N3StreamWriter":161,"./N3StreamWriter.js":161,"./N3Util":115,"./N3Util.js":115,"./N3Writer":120,"./N3Writer.js":120};function r(e){var t=i(e);return n(t)}function i(e){var t=a[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}r.keys=function(){return Object.keys(a)},r.resolve=i,e.exports=r,r.id=267},270:function(e,t){},272:function(e,t){},407:function(e,t,n){},415:function(e,t,n){},455:function(e,t,n){},461:function(e,t,n){},492:function(e,t,n){},501:function(e,t,n){},503:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(36),c=n.n(i),l=n(226),o=n(2),u=n(86),s=n(20),f=null,p={getHost:function(){return f},setHost:function(e){for(f=e;"/"===f.slice(-1);)f=f.slice(0,-1)},isEditableFilePattern:/\.(txt|diff?|patch|svg|asc|cnf|cfg|conf|html?|cfm|cgi|aspx?|ini|pl|py|md|css|cs|jsx?|jsp|log|htaccess|htpasswd|gitignore|gitattributes|env|json|atom|eml|rss|markdown|sql|xml|xslt?|sh|rb|as|bat|cmd|cob|for|ftn|frm|frx|inc|lisp|scm|coffee|php[3-6]?|java|c|cbl|go|h|scala|vb|tmpl|lock|go|yml|yaml|tsv|lst|ttl)$/i,isImageFilePattern:/\.(jpe?g|gif|bmp|png|svg|tiff?)$/i,isMediaFilePattern:/\.(mp3|ogg|wav|mp4|webm)$/i,isVideoFilePattern:/\.(mp4|webm|ogg)$/i,isExtractableFilePattern:/\.(zip)$/i,actions:{create_folder:!0,move:!0,copy:!0,copy_folder:!0,compress:!0,extract:!0,edit:!0,remove:!0,upload:!0,upload_by_chunks:!0,preview_images:!0}},m={path:[],pathSublist:[],host:null,isLoggedIn:!1,webId:null,itemList:[],itemListSublist:[],fileListFilter:null,contextMenuVisible:null,contextMenuPosition:[],contextMenuPositionElement:null,selectedItems:[],selectedFolderSublist:null,loading:!1,loadingSublist:!1,errorMsg:null,visibleDialogChooseLocation:!1,visibleDialogCreateFolder:!1,visibleDialogCreateFile:!1,visibleDialogUploadFile:!1,visibleDialogContent:!1,visibleDialogMedia:!1,visibleDialogEdit:!1,visibleDialogMove:!1,visibleDialogCopy:!1,visibleDialogRename:!1,fileContentBlobUrl:null,fileUploadProgress:0,fileUploadList:[]},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PATH":return Object.assign({},e,{path:t.value});case"SET_PATH_SUB_LIST":return Object.assign({},e,{pathSublist:t.value});case"SET_HOST":return p.setHost(t.value),Object.assign({},e,{host:t.value});case"SET_IS_LOGGED_IN":return Object.assign({},e,{isLoggedIn:t.value});case"SET_WEB_ID":return Object.assign({},e,{webId:t.value});case"ENTER_TO_DIRECTORY_SUB_LIST":return Object.assign({},e,{pathSublist:[].concat(Object(s.a)(e.pathSublist),[t.value])});case"SET_ITEM_LIST":return Object.assign({},e,{itemList:t.value.sort(function(e,t){return e.type<t.type?-1:e.name.toLowerCase()>t.name.toLowerCase()})});case"SET_ITEM_LIST_SUB_LIST":return Object.assign({},e,{itemListSublist:t.value.sort(function(e,t){return e.type<t.type?-1:e.name.toLowerCase()>t.name.toLowerCase()})});case"SET_FILE_LIST_FILTER":return Object.assign({},e,{fileListFilter:t.value});case"SET_CONTEXT_MENU_VISIBLE":return Object.assign({},e,{contextMenuVisible:t.value});case"SET_CONTEXT_MENU_POSITION":return Object.assign({},e,{contextMenuPosition:t.value});case"SET_CONTEXT_MENU_POSITION_ELEMENT":return Object.assign({},e,{contextMenuPositionElement:t.value});case"SET_SELECTED_ITEMS":return Object.assign({},e,{selectedItems:t.value.filter(function(e,t,n){return n.map(function(e){return e.name}).indexOf(e.name)===t})});case"SET_SELECTED_FOLDER_SUB_LIST":return Object.assign({},e,{selectedFolderSublist:t.value});case"TOGGLE_SELECTED_FILE":return Object.assign({},e,{selectedFiles:e.selectedFiles.find(function(e){return e.name===t.value.name})?e.selectedFiles.filter(function(e){return e.name!==t.value.name}):[].concat(Object(s.a)(e.selectedFiles),[t.value])});case"SET_FILE_UPLOAD_PROGRESS":return Object.assign({},e,{fileUploadProgress:parseInt(t.value||0)});case"SET_LOADING":return Object.assign({},e,{loading:t.value});case"SET_LOADING_SUB_LIST":return Object.assign({},e,{loadingSublist:t.value});case"SET_ERROR_MSG":return Object.assign({},e,{errorMsg:t.value});case"SET_VISIBLE_DIALOG_CHOOSE_LOCATION":return Object.assign({},e,{visibleDialogChooseLocation:!!t.value});case"SET_VISIBLE_DIALOG_CREATE_FOLDER":return Object.assign({},e,{visibleDialogCreateFolder:!!t.value});case"SET_VISIBLE_DIALOG_CREATE_FILE":return Object.assign({},e,{visibleDialogCreateFile:!!t.value});case"SET_VISIBLE_DIALOG_UPLOAD_FILE":return Object.assign({},e,{visibleDialogUploadFile:!!t.value});case"SET_VISIBLE_DIALOG_CONTENT":return Object.assign({},e,{visibleDialogContent:!!t.value});case"SET_VISIBLE_DIALOG_MEDIA":return Object.assign({},e,{visibleDialogMedia:!!t.value});case"SET_VISIBLE_DIALOG_EDIT":return Object.assign({},e,{visibleDialogEdit:!!t.value});case"SET_VISIBLE_DIALOG_MOVE":return Object.assign({},e,{visibleDialogMove:!!t.value});case"SET_VISIBLE_DIALOG_COPY":return Object.assign({},e,{visibleDialogCopy:!!t.value});case"SET_VISIBLE_DIALOG_RENAME":return Object.assign({},e,{visibleDialogRename:!!t.value});case"SET_FILE_UPLOAD_LIST":return Object.assign({},e,{fileUploadList:t.value});case"SET_FILE_CONTENT":return e.fileContentBlobUrl&&URL.revokeObjectURL(e.fileContentBlobUrl),Object.assign({},e,{fileContentBlobUrl:t.value?URL.createObjectURL(t.value):null});default:return e}},d=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function b(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var v=n(7),E=n(8),g=n(10),y=n(9),O=n(11),j=n(5),S=n.n(j),C=n(18),k=n(46),_=function(){function e(t,n){if(Object(v.a)(this,e),(this instanceof e?this.constructor:void 0)===e)throw new Error("Class Item should not directly be used");var a=x(t);this._name=a.pop(),this._path=a,this._url=t,this._size=n}return Object(E.a)(e,[{key:"equals",value:function(e){return this.name===e.name&&this.path.length===e.path.length&&this.path.every(function(t,n){return t===e.path[n]})}},{key:"getDisplayName",value:function(){return decodeURI(this.name)}},{key:"getDisplaySize",value:function(){return T(this.size)}},{key:"name",get:function(){return this._name}},{key:"path",get:function(){return this._path}},{key:"url",get:function(){return this._url}},{key:"size",get:function(){return this._size}}]),e}(),w=function(e){function t(){return Object(v.a)(this,t),Object(g.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(E.a)(t,[{key:"isImage",value:function(){return L.image.test(this.name)}},{key:"isMedia",value:function(){return L.media.test(this.name)}},{key:"isEditable",value:function(){return L.editable.test(this.name)}},{key:"isExtractable",value:function(){return L.extractable.test(this.name)}},{key:"isVideo",value:function(){return L.video.test(this.name)}}]),t}(_),I=function(e){function t(){return Object(v.a)(this,t),Object(g.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(O.a)(t,e),t}(_),L={editable:/\.(txt|diff?|patch|svg|asc|cnf|cfg|conf|html?|cfm|cgi|aspx?|ini|pl|py|md|css|cs|jsx?|jsp|log|htaccess|htpasswd|gitignore|gitattributes|env|json|atom|eml|rss|markdown|sql|xml|xslt?|sh|rb|as|bat|cmd|cob|for|ftn|frm|frx|inc|lisp|scm|coffee|php[3-6]?|java|c|cbl|go|h|scala|vb|tmpl|lock|go|yml|yaml|tsv|lst|ttl)$/i,image:/\.(jpe?g|gif|bmp|png|svg|tiff?)$/i,media:/\.(mp3|ogg|wav|mp4|webm)$/i,video:/\.(mp4|webm|ogg)$/i,extractable:/\.(zip)$/i},T=function(e){var t=Math.log(e)/Math.log(1e3)|0;return+(e/Math.pow(1e3,t)).toFixed(2)+" "+("kMGTPEZY"[t-1]||"")+"B"},x=function(e){return(e=new URL(e)).pathname.split("/").filter(function(e){return""!==e})};function R(e,t){var n=[],a=[];return e.each(k.sym(t),k.sym("http://www.w3.org/ns/ldp#contains"),void 0).forEach(function(t){var r=t.value,i=function(e,t){var n=k.sym(t),a=k.sym("http://www.w3.org/ns/posix/stat#size"),r=e.any(n,a,void 0);return r&&"value"in r?r.value:void 0}(e,r);!function(e,t){var n=k.sym(t),a=k.sym("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),r=e.each(n,a,void 0);for(var i in r)return!!r[i].value.match("ldp#BasicContainer");return console.error("unknown item type",e,t),!1}(e,r)?n.push(new w(r,i)):a.push(new I(r,i))}),{files:n,folders:a}}function D(e,t,n){return U.apply(this,arguments)}function U(){return(U=Object(C.a)(S.a.mark(function e(t,n,a){return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,r){a=a||N(n);var i=k.graph();try{k.parse(t,i,n,a),e(i)}catch(c){r(c)}}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function N(e){var t=e.replace(/.*\./,"");return t.match(/\/$/)?"dir":t.match(/(md|markdown)/)?"text/markdown":t.match(/html/)?"text/html":t.match(/xml/)?"text/xml":t.match(/ttl/)?"text/turtle":t.match(/n3/)?"text/n3":t.match(/rq/)?"application/sparql":t.match(/css/)?"text/css":t.match(/txt/)?"text/plain":t.match(/json/)?"application/json":t.match(/js/)?"application/javascript":t.match(/(png|gif|jpeg|tif)/)?"image":t.match(/(mp3|aif|ogg)/)?"audio":t.match(/(avi|mp4|mpeg)/)?"video":"text/turtle"}var M=n(43);function P(e){return F.apply(this,arguments)}function F(){return(F=Object(C.a)(S.a.mark(function e(t){var n,a,r=arguments;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:"",a=be(t,n),e.abrupt("return",M.fetch(a).then(ve));case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function B(e){return G.apply(this,arguments)}function G(){return(G=Object(C.a)(S.a.mark(function e(t){var n,a,r=arguments;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:"",a=de(t,n),e.abrupt("return",M.fetch(a,{headers:{Accept:"text/turtle"}}).then(ve));case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function A(e){return W.apply(this,arguments)}function W(){return(W=Object(C.a)(S.a.mark(function e(t){var n,a,r,i,c,l,o=arguments;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:"",a=de(t,n),e.next=4,B(t,n);case 4:return r=e.sent,e.next=7,r.text();case 7:return i=e.sent,e.next=10,D(i,a,"text/turtle");case 10:return c=e.sent,l=R(c,a),e.abrupt("return",l);case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}function V(){return(V=Object(C.a)(S.a.mark(function e(t,n,a){return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q(t,n,a);case 2:return e.abrupt("return",ie(t,a));case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function H(){return(H=Object(C.a)(S.a.mark(function e(t,n,a){return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y(t,n,t,a);case 2:return e.abrupt("return",le(t,n));case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function z(){return(z=Object(C.a)(S.a.mark(function e(t,n,a){return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J(t,n,t,a);case 2:return e.abrupt("return",ue(t,n));case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function q(e,t,n){return $.apply(this,arguments)}function $(){return($=Object(C.a)(S.a.mark(function e(t,n,a){var r,i,c,l;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(t);case 2:return r=e.sent,i=r.files,c=r.folders,i=i.filter(function(e){var t=e.name;return a.includes(t)}),c=c.filter(function(e){var t=e.name;return a.includes(t)}),l=[].concat(Object(s.a)(i.map(function(e){var a=e.name;return Y(t,a,n,a)})),Object(s.a)(c.map(function(e){var a=e.name;return J(t,a,n,a)}))),e.next=10,Promise.all(l);case 10:return e.abrupt("return",new Response);case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Y(e,t,n,a){return X.apply(this,arguments)}function X(){return(X=Object(C.a)(S.a.mark(function e(t,n,a,r){var i,c,l;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=be(a,r),e.next=3,P(t,n);case 3:if("application/json"!==(c=e.sent).headers.get("Content-Type")){e.next=10;break}return e.next=7,c.text();case 7:e.t0=e.sent,e.next=13;break;case 10:return e.next=12,c.blob();case 12:e.t0=e.sent;case 13:return l=e.t0,e.abrupt("return",M.fetch(i,{method:"PUT",body:l}).then(ve));case 15:case"end":return e.stop()}},e)}))).apply(this,arguments)}function J(e,t,n,a){return K.apply(this,arguments)}function K(){return(K=Object(C.a)(S.a.mark(function e(t,n,a,r){var i,c,l,o;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q(a,r);case 2:return e.next=4,A(t,n);case 4:return i=e.sent,c=i.files,l=i.folders,o=[].concat(Object(s.a)(c.map(function(e){var i=e.name;return Y("".concat(t,"/").concat(n),i,"".concat(a,"/").concat(r),i)})),Object(s.a)(l.map(function(e){var i=e.name;return J("".concat(t,"/").concat(n),i,"".concat(a,"/").concat(r),i)}))),e.next=10,Promise.all(o);case 10:return e.abrupt("return",new Response);case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Z(){return(Z=Object(C.a)(S.a.mark(function e(t,n){var a;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=Array.from(n).map(function(e){return te(t,e.name,e)}),e.next=3,Promise.all(a);case 3:return e.abrupt("return",new Response);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Q(e,t){return ee.apply(this,arguments)}function ee(){return(ee=Object(C.a)(S.a.mark(function e(t,n){return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me(t,n);case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",new Response);case 4:return e.abrupt("return",ae(t,n,"","dir"));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function te(e,t,n,a){return ne.apply(this,arguments)}function ne(){return(ne=Object(C.a)(S.a.mark(function e(t,n,a,r){return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le(t,n);case 2:return e.abrupt("return",ae(t,n,a,r));case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ae(e,t,n,a){return re.apply(this,arguments)}function re(){return(re=Object(C.a)(S.a.mark(function e(t,n,a,r){var i,c;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i="".concat(p.getHost()).concat(t),c={method:"POST",headers:{link:"dir"===r?'<http://www.w3.org/ns/ldp#BasicContainer>; rel="type"':'<http://www.w3.org/ns/ldp#Resource>; rel="type"',slug:n,"Content-Type":r},body:a},e.abrupt("return",M.fetch(i,c).then(ve));case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ie(e,t){return ce.apply(this,arguments)}function ce(){return(ce=Object(C.a)(S.a.mark(function e(t,n){return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(n.map(function(e){return le(t,e)}));case 2:return e.abrupt("return",new Response);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function le(e,t){return oe.apply(this,arguments)}function oe(){return(oe=Object(C.a)(S.a.mark(function e(t,n){var a,r;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=be(t,n),e.next=3,M.fetch(a,{method:"DELETE"});case 3:if(409!==(r=e.sent).status&&301!==r.status){e.next=8;break}return e.abrupt("return",ue(t,n));case 8:if(404!==r.status){e.next=12;break}return e.abrupt("return",r);case 12:return ve(r),e.abrupt("return",r);case 14:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ue(e,t){return se.apply(this,arguments)}function se(){return(se=Object(C.a)(S.a.mark(function e(t,n){return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe(t,n);case 2:return e.abrupt("return",le(t,n));case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function fe(e,t){return pe.apply(this,arguments)}function pe(){return(pe=Object(C.a)(S.a.mark(function e(t,n){var a,r,i,c,l;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(t,"/").concat(n),e.next=3,A(t,n);case 3:return r=e.sent,i=r.files,c=r.folders,l=[].concat(Object(s.a)(i.map(function(e){var t=e.name;return le(a,t)})),Object(s.a)(c.map(function(e){var t=e.name;return ue(a,t)}))),e.next=9,Promise.all(l);case 9:return e.abrupt("return",new Response);case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}function me(e,t){return he.apply(this,arguments)}function he(){return(he=Object(C.a)(S.a.mark(function e(t,n){return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B(t,n);case 3:return e.abrupt("return",!0);case 6:if(e.prev=6,e.t0=e.catch(0),!(e.t0 instanceof Response&&404===e.t0.status)){e.next=10;break}return e.abrupt("return",!1);case 10:throw e.t0;case 11:case"end":return e.stop()}},e,null,[[0,6]])}))).apply(this,arguments)}function de(e){return be(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"")+"/"}function be(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n="".concat(p.getHost()).concat(e,"/").concat(t);"/"===n.slice(-1);)n=n.slice(0,-1);return n}var ve=function(e){if(!e.ok)throw e;return e},Ee=n(145),ge=new(function(){function e(){Object(v.a)(this,e),this._data={}}return Object(E.a)(e,[{key:"add",value:function(e,t){return this._data[e]=t,t}},{key:"contains",value:function(e){return this._data.hasOwnProperty(e)}},{key:"get",value:function(e){return this._data[e]}},{key:"remove",value:function(){for(var e=this,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];n.filter(function(t){return e.contains(t)}).forEach(function(t){return delete e._data[t]})}},{key:"clear",value:function(){this._data={}}}]),e}()),ye=function(){var e=Object(C.a)(S.a.mark(function e(t){var n,a,r;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n="",console.group("handleFetchError"),!(t instanceof Response)){e.next=12;break}return e.next=5,t.text();case 5:n=e.sent,console.error("url: ".concat(t.url)),console.error("status: ".concat(t.status)),r={401:"The ressource at ".concat(t.url," requires you to login."),403:"You don't have permission to access the ressource at ".concat(t.url,".\n            Please make sure that you are logged in with the correct account.\n            If the server runs with version 5.0.0 or higher, make sure you gave this app read/write permission"),404:"The ressource at ".concat(t.url," was not found"),500:"An internal server error occured...\n            ".concat(n)},t.status in r&&(a=r[t.status]),e.next=13;break;case 12:t instanceof Error?(n=t.message,console.error(t.stack)):n="string"===typeof t?t:JSON.stringify(t);case 13:throw console.error("errorMessage: ".concat(n)),console.error("error: ".concat(t)),console.groupEnd(),new Error(a||n);case 17:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Oe=function(e){return""===e?e:("/"+e).replace(/\/\//g,"/")},je=function(e){return e=Oe(e),ge.contains(e)?Promise.resolve(ge.get(e)):A(e).then(function(e){var t=e.files,n=e.folders;return[].concat(Object(s.a)(t),Object(s.a)(n))}).then(function(t){return ge.add(e,t)}).catch(ye)},Se=function(e,t){return P(e=Oe(e),t).then(function(e){return e.blob()}).catch(ye)},Ce=function(e,t,n){return e=Oe(e),ge.remove(e),function(e,t,n){return H.apply(this,arguments)}(e,t,n).catch(ye)},ke=function(e,t,n){return e=Oe(e),ge.remove(e),function(e,t,n){return z.apply(this,arguments)}(e,t,n).catch(ye)},_e=function(e,t){return e=Oe(e),ge.remove(e),(t||"").trim()?Q(e,t).catch(ye):Promise.reject("Invalid folder name")},we=function(e,t,n){return e=Oe(e),t=Oe(t),ge.remove(e,t),n.length?function(e,t,n){return V.apply(this,arguments)}(e,t,n).catch(ye):Promise.reject("No files to move")},Ie=function(e,t){return e=Oe(e),ge.remove(e),t.length?function(e,t){return Z.apply(this,arguments)}(e,t).catch(ye):Promise.reject("No files to upload")},Le=function(e,t,n){return e=Oe(e),ge.remove(e),te(e,t,n).catch(ye)},Te=function(e,t){e=Oe(e);var n=new Ee;return xe(n,e,t).then(function(){return n})},xe=function e(t,n,a){var r=a.map(function(){var a=Object(C.a)(S.a.mark(function a(r){var i,c,l,o;return S.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!(r instanceof I)){a.next=9;break}return i=t.folder(r.name),c="".concat(n,"/").concat(r.name),a.next=5,je(c);case 5:return l=a.sent,a.abrupt("return",e(i,c,l));case 9:if(!(r instanceof w)){a.next=14;break}return a.next=12,Se(n,r.name);case 12:return o=a.sent,a.abrupt("return",t.file(r.name,o,{binary:!0}));case 14:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}());return Promise.all(r)},Re=function(){var e=Object(C.a)(S.a.mark(function e(t){var n,a,r,i,c=arguments;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:t,a=c.length>2?c[2]:void 0,e.next=4,Se(t,a);case 4:return r=e.sent,e.next=7,Ee.loadAsync(r);case 7:return i=e.sent,e.abrupt("return",De(i,n));case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();function De(e,t){return Ue.apply(this,arguments)}function Ue(){return(Ue=Object(C.a)(S.a.mark(function e(t,n){var a,r,i=arguments;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.length>2&&void 0!==i[2]?i[2]:"",r=Ne(t,a).map(function(){var e=Object(C.a)(S.a.mark(function e(a){var r,i,c,l;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.name,i=Me(r),c=Pe("".concat(n,"/").concat(r)),!a.dir){e.next=9;break}return e.next=6,_e(c,i);case 6:return e.abrupt("return",De(t,n,r));case 9:return e.next=11,a.async("blob");case 11:return l=e.sent,e.abrupt("return",Le(c,i,l));case 13:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),e.abrupt("return",Promise.all(r));case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ne(e,t){return Object.keys(e.files).filter(function(e){var n=e.slice(t.length,e.length);return!(!n||e.slice(0,t.length)!==t)&&(!n.includes("/")||!n.slice(0,-1).includes("/"))}).map(function(t){return e.files[t]})}function Me(e){return(e=e.endsWith("/")?e.slice(0,-1):e).substr(e.lastIndexOf("/")+1)}function Pe(e){return e=(e=e.endsWith("/")?e.slice(0,-1):e).substr(0,e.lastIndexOf("/"))}var Fe,Be=n(251),Ge=function(){return function(e,t){(Fe=Object(Be.a)()).listen(function(t,n){if("POP"===n){var a,r;if(t&&"undefined"!==typeof t.state){var i=t.state;a=i.host,r=i.path}else{var c=new URLSearchParams(t.search.substr(1)).get("url");if(null!==c){var l=We(c);a=l.host,r=l.path}}e(pt(a)),e(ot(r))}})}},Ae=function(){return function(e,t){var n=t(),a=n.host,r=n.path,i="".concat(a,"/").concat(r.join("/"));Fe.push("?url=".concat(encodeURI(i)),{host:a,path:r})}},We=function(e){return{host:(e=new URL(e)).origin,path:e.pathname.split("/").filter(function(e){return""!==e})}},Ve=function(){return function(e,t){e(Ot(!0)),function(){return ze.apply(this,arguments)}().then(function(t){var n=t.webId;e(ht(n)),e(mt(!0)),e(Ot(!1))}).catch(function(t){e({type:"SET_ERROR_MSG",value:t.toString()}),e(Ot(!1))})}},He=function(){return function(){var e=Object(C.a)(S.a.mark(function e(t,n){var a;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.currentSession();case 2:(a=e.sent)?(t(ht(a.webId)),t(mt(!0))):(t(mt(!1)),t(ht(null)));case 4:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()};function ze(){return(ze=Object(C.a)(S.a.mark(function e(){return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",M.popupLogin({popupUri:"https://solid.community/common/popup.html"}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}var qe=function(){return function(e,t){return ge.clear()}},$e=function(){return function(e,t){var n=t().path;e(Ot(!0)),e(vt([])),je(n.join("/")).then(function(t){e(Ot(!1)),e(dt(t))}).catch(function(t){e(dt([])),e({type:"SET_ERROR_MSG",value:t.toString()}),e(Ot(!1))})}},Ye=function(){return function(e,t){return function(e){ge.remove(Oe(e))}(t().path.join("/")),e($e())}},Xe=function(){return function(e,t){var n=t().pathSublist;e(jt(!0)),e(Et(null)),je(n.join("/")).then(function(t){e(jt(!1)),e(bt(t))}).catch(function(t){e(bt([])),e({type:"SET_ERROR_MSG",value:t.toString()}),e(jt(!1))})}};function Je(e,t){if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(e,t);else{var n=document.createElement("a"),a=URL.createObjectURL(e);n.href=a,n.download=t,document.body.appendChild(n),n.click(),setTimeout(function(){document.body.removeChild(n),window.URL.revokeObjectURL(a)},0)}}var Ke=function(e){return function(t,n){var a=n().path;t(Ot(!0)),t(Dt(null)),Se(a.join("/"),e).then(function(e){t(Dt(e)),t(Ot(!1))}).catch(function(e){t({type:"SET_ERROR_MSG",value:e.toString()}),t(Ot(!1))})}},Ze=function(e){return function(t,n){t(Ke(e)),t(Rt(!0))}},Qe=function(e){return function(t,n){t(Ke(e)),t(Tt(!0))}},et=function(){return function(e,t){e(xt(!0))}},tt=function(e){return function(t,n){var a=n().path,r=e.map(function(e){return e.name});t(Ot(!0)),function(e,t){return e=Oe(e),ge.remove(e),t.length?ie(e,t).catch(ye):Promise.reject("No files to remove")}(a.join("/"),r).then(function(e){t(Ot(!1)),t($e())}).catch(function(e){t({type:"SET_ERROR_MSG",value:e.toString()}),t(Ot(!1))})}},nt=function(e){return function(t,n){var a=n(),r=a.path,i=a.pathSublist,c=a.selectedFolderSublist,l=i.join("/")+"/"+c.name,o=e.map(function(e){return e.name});t(Ot(!0)),function(e,t,n){return e=Oe(e),t=Oe(t),ge.remove(e,t),n.length?q(e,t,n).catch(ye):Promise.reject("No files to copy")}(r.join("/"),l,o).then(function(e){t(Ot(!1)),t(Lt(!1)),t($e())}).catch(function(e){t({type:"SET_ERROR_MSG",value:e.toString()}),t(Ot(!1))})}},at=function(e){return function(t,n){var a=n(),r=a.itemList,i=a.selectedItems,c=Object(s.a)(i).pop(),l=r.indexOf(r.find(function(e){return e.name===c.name})),o=r.indexOf(r.find(function(t){return t.name===e.name})),u=[];u=o>l?r.filter(function(e,t){return r.indexOf(e)<=o&&r.indexOf(e)>=l}):r.filter(function(e,t){return r.indexOf(e)>=o&&r.indexOf(e)<=l}),t(vt([].concat(Object(s.a)(i),Object(s.a)(u))))}},rt=function(){return function(e,t){var n=t().path;e(Et(null)),e(bt([])),e(ft(Object(s.a)(n))),e(Xe())}},it=function(){return function(e,t){e(Ut(0)),e(_t(!1)),e(Nt([]))}},ct=function(e){return function(t,n){t(ot(e)),t(Ae())}},lt=function(e){return function(t,n){var a=e.path;t(ot(e instanceof w?a:[].concat(Object(s.a)(a),[e.name]))),t(Ae())}},ot=function(e){return function(t,n){t(st(e)),t(gt(null)),t($e())}},ut=function(){return function(e,t){var n=t().pathSublist;e(ft(n.slice(0,-1))),e(Xe())}},st=function(e){return{type:"SET_PATH",value:e}},ft=function(e){return{type:"SET_PATH_SUB_LIST",value:e}},pt=function(e){return{type:"SET_HOST",value:e}},mt=function(e){return{type:"SET_IS_LOGGED_IN",value:e}},ht=function(e){return{type:"SET_WEB_ID",value:e}},dt=function(e){return{type:"SET_ITEM_LIST",value:e}},bt=function(e){return{type:"SET_ITEM_LIST_SUB_LIST",value:e}},vt=function(e){return{type:"SET_SELECTED_ITEMS",value:e}},Et=function(e){return{type:"SET_SELECTED_FOLDER_SUB_LIST",value:e}},gt=function(e){return{type:"SET_FILE_LIST_FILTER",value:e}},yt=function(e){return{type:"SET_CONTEXT_MENU_VISIBLE",value:!!e}},Ot=function(e){return{type:"SET_LOADING",value:e}},jt=function(e){return{type:"SET_LOADING_SUB_LIST",value:e}},St=function(e){return{type:"SET_VISIBLE_DIALOG_CHOOSE_LOCATION",value:!!e}},Ct=function(e){return{type:"SET_VISIBLE_DIALOG_CREATE_FOLDER",value:!!e}},kt=function(e){return{type:"SET_VISIBLE_DIALOG_CREATE_FILE",value:!!e}},_t=function(e){return{type:"SET_VISIBLE_DIALOG_UPLOAD_FILE",value:!!e}},wt=function(e){return{type:"SET_VISIBLE_DIALOG_RENAME",value:!!e}},It=function(e){return{type:"SET_VISIBLE_DIALOG_MOVE",value:!!e}},Lt=function(e){return{type:"SET_VISIBLE_DIALOG_COPY",value:!!e}},Tt=function(e){return{type:"SET_VISIBLE_DIALOG_CONTENT",value:!!e}},xt=function(e){return{type:"SET_VISIBLE_DIALOG_MEDIA",value:!!e}},Rt=function(e){return{type:"SET_VISIBLE_DIALOG_EDIT",value:!!e}},Dt=function(e){return{type:"SET_FILE_CONTENT",value:e}},Ut=function(e){return{type:"SET_FILE_UPLOAD_PROGRESS",value:e}},Nt=function(e){return{type:"SET_FILE_UPLOAD_LIST",value:e}},Mt=(n(191),n(59)),Pt=n.n(Mt),Ft=n(108),Bt=n.n(Ft),Gt=n(72),At=n.n(Gt),Wt=n(109),Vt=n.n(Wt),Ht=n(110),zt=n.n(Ht),qt=n(51),$t=n.n(qt),Yt=n(71),Xt=n.n(Yt),Jt=function(e){function t(){return Object(v.a)(this,t),Object(g.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isSelected,n=e.item,a=e.handleClick,i=e.handleDoubleClick,c=e.handleContextMenu,l={backgroundColor:t?Xt.a.A200:null},o=n instanceof w?n.getDisplaySize():null;return r.a.createElement("div",{className:"File",onClick:a,onDoubleClick:i,onContextMenu:c,"data-selected":t},r.a.createElement(Pt.a,null,r.a.createElement(Bt.a,null,r.a.createElement(Vt.a,{style:l},n instanceof w?r.a.createElement($t.a,null):r.a.createElement(zt.a,null))),r.a.createElement(At.a,{className:"filename",primary:n.getDisplayName(),secondary:o})))}}]),t}(a.Component),Kt=Object(o.b)(function(e,t){return{isSelected:e.selectedItems.some(function(e){return e.equals(t.item)})}},function(e,t){return{handleDoubleClick:function(n){var a=t.item;a instanceof w?a.isEditable()?e(Ze(a.name)):a.isImage()?e(Qe(a.name)):a.isMedia()&&e(et()):e(lt(a))},handleContextMenu:function(n){n.preventDefault(),n.stopPropagation();var a,r=n.clientX||n.touches&&n.touches[0].pageX,i=n.clientY||n.touches&&n.touches[0].pageY;n.shiftKey?e(at(t.item)):e((a=t.item,function(e,t){var n=t().selectedItems;-1===n.indexOf(n.find(function(e){return e.name===a.name}))&&e(vt([a]))})),e(yt(!0)),e(function(e,t){return{type:"SET_CONTEXT_MENU_POSITION",value:[e,t]}}(r,i))},handleClick:function(n){n.stopPropagation(),n.ctrlKey?e({type:"TOGGLE_SELECTED_FILE",value:t.item}):n.shiftKey?e(at(t.item)):e(vt([t.item]))}}})(Jt),Zt=(n(407),function(e){function t(){return Object(v.a)(this,t),Object(g.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"FileListEmptyMessage"},"No files in this folder")}}]),t}(a.Component)),Qt=Object(o.b)(function(e){return{}},function(e){return{}})(Zt),en=n(37),tn=n(229),nn=n.n(tn),an=n(228),rn=n.n(an);var cn=Object(en.withStyles)(function(e){return{progress:{margin:10*e.spacing.unit}}})(function(e){var t=e.classes;return r.a.createElement(rn.a,{container:!0,justify:"center"},r.a.createElement(nn.a,{className:t.progress,color:"secondary"}))}),ln=(n(415),function(e){function t(){return Object(v.a)(this,t),Object(g.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.itemList,n=e.loading,a=t.map(function(e,t){return r.a.createElement(Kt,{item:e,key:t})});return r.a.createElement("div",{className:"FileList"},n?r.a.createElement(cn,null):a.length?a:r.a.createElement(Qt,null))}}]),t}(a.Component)),on=function(e,t){return e.toLocaleLowerCase().match(t.toLocaleLowerCase())},un=Object(o.b)(function(e){var t=e.fileListFilter;return{itemList:t?e.itemList.filter(function(e){return on(e.getDisplayName(),t)}):e.itemList,loading:e.loading}},function(e){return{handleClick:function(e){}}})(ln),sn=n(60),fn=n(234),pn=n.n(fn),mn=n(235),hn=n.n(mn),dn=n(15),bn=n.n(dn),vn=n(85),En=n.n(vn),gn=n(73),yn=n.n(gn),On=n(50),jn=n(236),Sn=n.n(jn),Cn=n(237),kn=n.n(Cn),_n=n(111),wn=n.n(_n),In=n(233),Ln=n.n(In),Tn=n(21),xn=n.n(Tn),Rn=n(19),Dn=n.n(Rn),Un=n(230),Nn=n.n(Un);var Mn=Object(o.b)(function(e){return{}},function(e,t){return{handleClick:function(t){e(Ct(!0))}}})(function(e){var t,n=e.handleClick,a=e.handleClose;return r.a.createElement(xn.a,{onClick:(t=n,function(e){t(),a()})},r.a.createElement(Dn.a,null,r.a.createElement(Nn.a,null)),r.a.createElement(bn.a,{variant:"inherit"},"Create folder"))});var Pn=Object(o.b)(function(e){return{}},function(e,t){return{handleClick:function(t){e(kt(!0))}}})(function(e){var t,n=e.handleClick,a=e.handleClose;return r.a.createElement(xn.a,{onClick:(t=n,function(e){t(),a()})},r.a.createElement(Dn.a,null,r.a.createElement($t.a,null)),r.a.createElement(bn.a,{variant:"inherit"},"Create file"))}),Fn=n(231),Bn=n.n(Fn);var Gn=Object(o.b)(function(e){return{}},function(e,t){return{handleClick:function(t){e(_t(!0))}}})(function(e){var t,n=e.handleClick,a=e.handleClose;return r.a.createElement(xn.a,{onClick:(t=n,function(e){t(),a()})},r.a.createElement(Dn.a,null,r.a.createElement(Bn.a,null)),r.a.createElement(bn.a,{variant:"inherit"},"Upload files"))}),An=n(232),Wn=n.n(An);var Vn=Object(o.b)(function(e){return{}},function(e,t){return{handleClick:function(t){e(St(!0))}}})(function(e){var t,n=e.handleClick,a=e.handleClose;return r.a.createElement(xn.a,{onClick:(t=n,function(e){t(),a()})},r.a.createElement(Dn.a,null,r.a.createElement(Wn.a,null)),r.a.createElement(bn.a,{variant:"inherit"},"Choose root location"))}),Hn=function(e){function t(){var e,n;Object(v.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(g.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r)))).state={anchorEl:null},n.handleClick=function(e){n.setState({anchorEl:e.currentTarget})},n.handleClose=function(){n.setState({anchorEl:null})},n}return Object(O.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.state.anchorEl;return r.a.createElement("div",{style:{marginLeft:"1em"}},r.a.createElement(yn.a,{color:"inherit","aria-label":"More","aria-owns":Boolean(e)?"long-menu":void 0,"aria-haspopup":"true",onClick:this.handleClick},r.a.createElement(Ln.a,null)),r.a.createElement(wn.a,{anchorEl:e,open:Boolean(e),onClose:this.handleClose},r.a.createElement(Mn,{handleClose:this.handleClose}),r.a.createElement(Pn,{handleClose:this.handleClose}),r.a.createElement(Gn,{handleClose:this.handleClose}),r.a.createElement(Vn,{handleClose:this.handleClose})))}}]),t}(r.a.Component),zn=Object(o.b)(function(e){return{}},function(e,t){return{}})(Hn),qn=n(74),$n=n.n(qn),Yn=n(16),Xn=n.n(Yn),Jn=(n(455),function(e){function t(){return Object(v.a)(this,t),Object(g.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.handleClickPath,a=e.path,i=e.rootTitle,c=e.handleGoBack,l=e.canGoBack,o=r.a.createElement("span",null,">"),u=r.a.createElement("span",{onClick:function(e){return n(e,-1,a)},"data-index":0},i," ",a.length?o:""),f=Object(s.a)(a).pop()||i,p=a.map(function(e,t){return r.a.createElement("span",{key:t,"data-index":t,onClick:function(e){return n(e,t,a)}},r.a.createElement("span",null,e)," ",a.length-1!==t?o:"","\xa0")});return r.a.createElement("div",{className:"BreadcrumbText"},r.a.createElement("div",{className:t.lastPath},r.a.createElement(Xn.a,{onClick:c,color:"inherit",type:"button",style:{display:l?"inline-flex":"none"}},r.a.createElement($n.a,null)),f),r.a.createElement("div",{className:t.paths},u," ",p))}}]),t}(a.Component)),Kn=Object(en.withStyles)(function(e){return{lastPath:Object(sn.a)({display:"block"},e.breakpoints.up("sm"),{display:"none"}),paths:Object(sn.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"})}})(Object(o.b)(function(e){return{}},function(e){return{}})(Jn));var Zn=Object(en.withStyles)(function(e){return{root:{width:"100%",marginBottom:"4.3em"},grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20},title:Object(sn.a)({display:"block"},e.breakpoints.up("sm"),{display:"block"}),search:Object(sn.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(On.fade)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(On.fade)(e.palette.common.white,.25)},marginLeft:0,width:"100%",display:"none"},e.breakpoints.up("sm"),{marginLeft:e.spacing.unit,width:"auto",display:"block"}),searchIcon:{width:9*e.spacing.unit,height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit",width:"100%"},inputInput:Object(sn.a)({paddingTop:e.spacing.unit,paddingRight:e.spacing.unit,paddingBottom:e.spacing.unit,paddingLeft:10*e.spacing.unit,transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:100,"&:focus":{width:200}})}})(Object(o.b)(function(e){return{value:e.fileListFilter||"",path:e.path,canGoBack:e.path.length}},function(e){return{handleChange:function(t){e(gt(t.currentTarget.value))},handleGoBack:function(t){e(function(e,t){var n=t().path;e(ct(n.slice(0,-1)))})},handleClickPath:function(t,n){e(function(e){return function(t,n){var a=n().path;t(ct(Object(s.a)(a).slice(0,++e)))}}(n)),t.preventDefault()},handleRefresh:function(){return e(Ye())}}})(function(e){var t=e.classes,n=e.path,a=e.handleClickPath,i=e.handleGoBack,c=e.canGoBack;return r.a.createElement("div",{className:t.root},r.a.createElement(pn.a,{position:"fixed"},r.a.createElement(hn.a,null,r.a.createElement(bn.a,{className:t.title,variant:"h6",color:"inherit",noWrap:!0},r.a.createElement(Kn,{path:n,handleClickPath:a,handleGoBack:i,canGoBack:c,rootTitle:"Solid Filemanager"})),r.a.createElement("div",{className:t.grow}),r.a.createElement("div",{className:t.search},r.a.createElement("div",{className:t.searchIcon},r.a.createElement(Sn.a,null)),r.a.createElement(En.a,{placeholder:"Search\u2026",value:e.value,onChange:e.handleChange,classes:{root:t.inputRoot,input:t.inputInput}})),r.a.createElement(yn.a,{color:"inherit","aria-label":"Refresh",onClick:e.handleRefresh},r.a.createElement(kn.a,null)),r.a.createElement(zn,null))))})),Qn=(n(461),n(112)),ea=n.n(Qn);var ta=Object(o.b)(function(e){return{selectedItems:e.selectedItems}},function(e,t){return{handleClick:function(t,n){var a=n[0];a instanceof I?e(lt(a)):a instanceof w&&(a.isEditable()?e(Ze(a.name)):a.isImage()?e(Qe(a.name)):a.isMedia()&&e(et()))}}})(function(e){var t=e.handleClick,n=e.selectedItems;return r.a.createElement(xn.a,{onClick:function(e){return t(e,n)}},r.a.createElement(Dn.a,null,r.a.createElement(ea.a,null)),r.a.createElement(bn.a,{variant:"inherit"},"Open"))}),na=n(238),aa=n.n(na);var ra=Object(o.b)(function(e){return{selectedItems:e.selectedItems}},function(e,t){return{handleClick:function(t,n){e(tt(n))}}})(function(e){var t=e.handleClick,n=e.selectedItems;return r.a.createElement(xn.a,{onClick:function(e){return t(e,n)}},r.a.createElement(Dn.a,null,r.a.createElement(aa.a,null)),r.a.createElement(bn.a,{variant:"inherit"},"Remove"))}),ia=n(239),ca=n.n(ia);var la=Object(o.b)(function(e){return{}},function(e,t){return{handleClick:function(t){e(rt()),e(It(!0))}}})(function(e){var t=e.handleClick;return r.a.createElement(xn.a,{onClick:function(e){return t(e)}},r.a.createElement(Dn.a,null,r.a.createElement(ca.a,null)),r.a.createElement(bn.a,{variant:"inherit"},"Move"))}),oa=n(240),ua=n.n(oa);var sa=Object(o.b)(function(e){return{}},function(e,t){return{handleClick:function(t){e(rt()),e(Lt(!0))}}})(function(e){var t=e.handleClick;return r.a.createElement(xn.a,{onClick:function(e){return t(e)}},r.a.createElement(Dn.a,null,r.a.createElement(ua.a,null)),r.a.createElement(bn.a,{variant:"inherit"},"Copy"))});var fa=Object(o.b)(function(e){return{selectedItems:e.selectedItems}},function(e,t){return{handleClick:function(t,n){e(Ze(n[0].name))}}})(function(e){var t=e.handleClick,n=e.selectedItems;return r.a.createElement(xn.a,{onClick:function(e){return t(e,n)}},r.a.createElement(Dn.a,null,r.a.createElement(ea.a,null)),r.a.createElement(bn.a,{variant:"inherit"},"Edit"))}),pa=n(241),ma=n.n(pa);var ha=Object(o.b)(function(e){return{}},function(e,t){return{handleClick:function(t){e(wt(!0))}}})(function(e){var t=e.handleClick;return r.a.createElement(xn.a,{onClick:function(e){return t(e)}},r.a.createElement(Dn.a,null,r.a.createElement(ma.a,null)),r.a.createElement(bn.a,{variant:"inherit"},"Rename"))}),da=n(242),ba=n.n(da);var va=Object(o.b)(function(e){return{selectedItems:e.selectedItems}},function(e,t){return{handleClick:function(t,n){var a;e((a=n,function(e,t){var n=t().path,r=1===a.length&&a[0]instanceof I?"".concat(a[0].name,".zip"):"Archive.zip";e(Ot(!0)),Te(n.join("/"),a).then(function(e){return e.generateAsync({type:"blob"})}).then(function(e){return Le(n.join("/"),r,e)}).then(function(){e(Ot(!1)),e($e())}).catch(function(t){e({type:"SET_ERROR_MSG",value:t.toString()}),e(Ot(!1))})}))}}})(function(e){var t=e.handleClick,n=e.selectedItems;return r.a.createElement(xn.a,{onClick:function(e){return t(e,n)}},r.a.createElement(Dn.a,null,r.a.createElement(ba.a,null)),r.a.createElement(bn.a,{variant:"inherit"},"Zip here"))}),Ea=n(243),ga=n.n(Ea);var ya=Object(o.b)(function(e){return{selectedItems:e.selectedItems}},function(e,t){return{handleClick:function(t,n){var a;e((a=n[0].name,function(e,t){var n=t().path;e(Ot(!0)),Re(n.join("/"),n.join("/"),a).then(function(t){e(Ot(!1)),e($e())}).catch(function(t){e({type:"SET_ERROR_MSG",value:t.toString()}),e(Ot(!1))})}))}}})(function(e){var t=e.handleClick,n=e.selectedItems;return r.a.createElement(xn.a,{onClick:function(e){return t(e,n)}},r.a.createElement(Dn.a,null,r.a.createElement(ga.a,null)),r.a.createElement(bn.a,{variant:"inherit"},"Extract here"))}),Oa=n(244),ja=n.n(Oa);var Sa=Object(o.b)(function(e){return{selectedItems:e.selectedItems}},function(e,t){return{handleClick:function(t,n){var a;e((a=n,function(){var e=Object(C.a)(S.a.mark(function e(t,n){var r,i,c,l,o;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n(),i=r.path,t(Ot(!0)),e.prev=2,l=a[0].name,!(1===a.length&&a[0]instanceof w)){e.next=10;break}return e.next=7,Se(i.join("/"),a[0].name);case 7:c=e.sent,e.next=18;break;case 10:return e.next=12,Te(i.join("/"),a);case 12:return o=e.sent,e.next=15,o.generateAsync({type:"blob"});case 15:c=e.sent,a.length>1&&(l="Archive"),l="".concat(l,".zip");case 18:Je(c,l),t(Ot(!1)),e.next=26;break;case 22:e.prev=22,e.t0=e.catch(2),t({type:"SET_ERROR_MSG",value:e.t0.toString()}),t(Ot(!1));case 26:case"end":return e.stop()}},e,null,[[2,22]])}));return function(t,n){return e.apply(this,arguments)}}()))}}})(function(e){var t=e.handleClick,n=e.selectedItems;return r.a.createElement(xn.a,{onClick:function(e){return t(e,n)}},r.a.createElement(Dn.a,null,r.a.createElement(ja.a,null)),r.a.createElement(bn.a,{variant:"inherit"},1===n.length&&n[0]instanceof w?"Download":"Download Zip"))}),Ca=n(245),ka=n.n(Ca);var _a=Object(o.b)(function(e){return{selectedItems:e.selectedItems}},function(e,t){return{handleClick:function(t,n){var a;e((a=n[0],function(e,t){window.open(a.url,"_blank")}))}}})(function(e){var t=e.handleClick,n=e.selectedItems;return r.a.createElement(xn.a,{onClick:function(e){return t(e,n)}},r.a.createElement(Dn.a,null,r.a.createElement(ka.a,null)),r.a.createElement(bn.a,{variant:"inherit"},"Open in new Tab"))}),wa=function(e){function t(){return Object(v.a)(this,t),Object(g.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.acts,n=e.visible,a=e.x,i=e.y;return r.a.createElement("div",null,r.a.createElement(wn.a,{anchorReference:"anchorPosition",anchorPosition:{top:i,left:a},transformOrigin:{vertical:"top",horizontal:"left"},open:n,onClose:function(){},PaperProps:{style:{width:190}}},t.includes("open")&&r.a.createElement(ta,null),t.includes("openInNewTab")&&r.a.createElement(_a,null),t.includes("download")&&r.a.createElement(Sa,null),t.includes("compress")&&r.a.createElement(va,null),t.includes("extract")&&r.a.createElement(ya,null),t.includes("edit")&&r.a.createElement(fa,null),t.includes("copy")&&r.a.createElement(sa,null),t.includes("move")&&r.a.createElement(la,null),t.includes("rename")&&r.a.createElement(ha,null),t.includes("remove")&&r.a.createElement(ra,null)))}}]),t}(a.Component),Ia=function(e){return 1===e.length?La(e[0]):["copy","move","remove","download","compress"]},La=function(e){return[].concat(["openInNewTab","copy","move","rename","remove","download"],Object(s.a)(e instanceof w?Ta(e):xa(e)))},Ta=function(e){var t=[];return e.isEditable()&&t.push("edit"),e.isExtractable()&&t.push("extract"),(e.isImage()||e.isMedia())&&t.push("open"),t},xa=function(e){return["open","compress"]},Ra=Object(o.b)(function(e){return{x:e.contextMenuPosition[0]||0,y:e.contextMenuPosition[1]||0,visible:!!e.contextMenuVisible,acts:Ia(e.selectedItems)}},function(e){return{}})(wa),Da=n(30),Ua=n.n(Da),Na=n(33),Ma=n.n(Na),Pa=n(32),Fa=n.n(Pa),Ba=n(31),Ga=n.n(Ba),Aa=n(52),Wa=n.n(Aa),Va=function(e){function t(){var e,n;Object(v.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(g.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r)))).state={location:null},n}return Object(O.a)(t,e),Object(E.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.isLoggedIn,n=e.webId,a=new URLSearchParams(document.location.search.substr(1)).get("url");if(null!==a){var r=decodeURI(a);this.setState({location:r})}else if(t){var i=new URL(n).origin;this.setState({location:i})}}},{key:"handleChange",value:function(e){var t=e.currentTarget.form.querySelector("input").value;this.setState({location:t})}},{key:"handleSubmit",value:function(e){this.props.handleSubmit(e)(this.state.location)}},{key:"render",value:function(){var e=this.state.location;e=e||"";var t=this.props,n=t.handleClose,a=t.handleLogin,i=t.handleLogout,c=t.open,l=t.isLoggedIn,o=t.webId;return r.a.createElement(Ua.a,{open:c,onClose:n,"aria-labelledby":"form-dialog-choose-location",fullWidth:!0,maxWidth:"sm"},r.a.createElement("form",null,r.a.createElement(Ga.a,{id:"form-dialog-choose-location"},"Choose the storage location"),r.a.createElement(Fa.a,null,r.a.createElement(bn.a,{variant:"body1",gutterBottom:!0},l?"Logged in as "+o+".":"If you want to access private resources, please login with the button below."),l?r.a.createElement(Xn.a,{variant:"outlined",onClick:i},"Logout"):r.a.createElement(Xn.a,{variant:"outlined",color:"primary",onClick:a},"Login"),r.a.createElement(bn.a,{variant:"body1"},"Please enter the directory you want to open below."),r.a.createElement(Wa.a,{autoFocus:!0,fullWidth:!0,margin:"normal",label:"Storage Location",variant:"outlined",onChange:this.handleChange.bind(this),value:e})),r.a.createElement(Ma.a,null,r.a.createElement(Xn.a,{onClick:n,color:"primary",type:"button"},"Cancel"),r.a.createElement(Xn.a,{color:"primary",type:"submit",onClick:this.handleSubmit.bind(this)},"Open directory"))))}}]),t}(a.Component),Ha=Object(o.b)(function(e){return{open:e.visibleDialogChooseLocation,webId:e.webId,isLoggedIn:e.isLoggedIn}},function(e,t){return{handleClose:function(t){e(St(!1))},handleLogin:function(t){t.preventDefault(),e(Ve())},handleLogout:function(t){t.preventDefault(),e(function(e,t){e(Ot(!0)),M.logout().then(function(){e(st([])),e(ft([])),e(dt([])),e(vt([])),e(mt(!1)),e(ht(null)),e(St(!0)),e(Ot(!1))}).catch(function(t){e({type:"SET_ERROR_MSG",value:t.toString()}),e(Ot(!1))})})},handleSubmit:function(t){return function(n){t.preventDefault();var a=We(n),r=a.host,i=a.path;e(St(!1)),e(pt(r)),e(qe()),e(ct(i))}}}})(Va),za=function(e){function t(){var e,n;Object(v.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(g.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r)))).state={lastBlobUrl:null,content:"...",loading:!1},n}return Object(O.a)(t,e),Object(E.a)(t,[{key:"componentDidUpdate",value:function(){this.props.blobUrl!==this.state.lastBlobUrl&&(this.setState({lastBlobUrl:this.props.blobUrl}),this.setState({loading:!0}))}},{key:"render",value:function(){var e=this.props,t=e.handleClose,n=e.open;return r.a.createElement("div",{style:{marginLeft:"1em"}},r.a.createElement(Ua.a,{open:n,onClose:t,"aria-labelledby":"form-dialog-content",fullWidth:!0,maxWidth:"sm"},r.a.createElement(Ga.a,{id:"form-dialog-content"},"Viewing file "),r.a.createElement(Fa.a,null,r.a.createElement("img",{src:this.props.blobUrl,alt:"",style:{maxWidth:"100%"}})),r.a.createElement(Ma.a,null,r.a.createElement(Xn.a,{onClick:t,color:"primary",type:"button"},"Close"))))}}]),t}(a.Component),qa=Object(o.b)(function(e){return{open:e.visibleDialogContent,blobUrl:e.fileContentBlobUrl}},function(e,t){return{handleClose:function(t){e(Tt(!1))},handleOpen:function(t){e(Tt(!0))}}})(za),$a=n(246),Ya=n.n($a),Xa=(n(490),function(e){function t(){return Object(v.a)(this,t),Object(g.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.fileName,n=e.url,a=e.provider,i=e.type,c=e.handleClose,l=e.open;return r.a.createElement(Ua.a,{open:l,onClose:c,"aria-labelledby":"form-dialog-display-media",fullWidth:!0,maxWidth:"lg"},r.a.createElement(Ga.a,{id:"form-dialog-display-media"},"Display Media"),r.a.createElement(Fa.a,null,r.a.createElement("p",null,"Playing ",t),r.a.createElement(Ya.a,{type:i,provider:a,url:n,iconUrl:"./vendor/plyr/plyr.svg"})),r.a.createElement(Ma.a,null,r.a.createElement(Xn.a,{onClick:c,color:"primary",type:"button"},"Close")))}}]),t}(a.Component)),Ja=Object(o.b)(function(e){var t=e.visibleDialogMedia,n=e.selectedItems[0];return n instanceof w?{open:t,fileName:n.name,url:n.url,provider:n.isVideo()?"html5":"audio",type:n.isVideo()?"video":"audio"}:{open:t}},function(e,t){return{handleClose:function(t){e(xt(!1))}}})(Xa),Ka=n(247),Za=n.n(Ka),Qa=function(e){function t(){var e,n;Object(v.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(g.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r)))).state={lastBlobUrl:null,content:null,loading:!1},n}return Object(O.a)(t,e),Object(E.a)(t,[{key:"componentDidUpdate",value:function(){var e=this;this.props.blobUrl!==this.state.lastBlobUrl&&(this.setState({lastBlobUrl:this.props.blobUrl}),this.setState({loading:!0}),this.props.blobUrl&&fetch(this.props.blobUrl).then(function(e){return e.text()}).then(function(t){e.setState({content:t}),e.setState({loading:!1})}))}},{key:"handleSave",value:function(e){e.preventDefault();var t=e.currentTarget.form.querySelector("textarea").value;this.props.handleSave(e)(this.props.itemName,t)}},{key:"render",value:function(){var e=this.props,t=e.handleClose,n=e.open,a=r.a.createElement("textarea",{style:{width:"100%",minHeight:"300px"},defaultValue:this.state.content||""});return r.a.createElement("div",null,r.a.createElement(Ua.a,{open:n,onClose:t,"aria-labelledby":"form-dialog-edit",fullWidth:!0,maxWidth:"sm"},r.a.createElement("form",null,r.a.createElement(Ga.a,{id:"form-dialog-edit"},"Editing file "),r.a.createElement(Fa.a,null,r.a.createElement(Za.a,null,this.state.loading?"Loading...":a)),r.a.createElement(Ma.a,null,r.a.createElement(Xn.a,{onClick:t,color:"primary",type:"button"},"Close"),r.a.createElement(Xn.a,{color:"primary",onClick:this.handleSave.bind(this),type:"submit"},"Update")))))}}]),t}(a.Component),er=Object(o.b)(function(e){return{open:e.visibleDialogEdit,itemName:e.selectedItems.length?e.selectedItems[0].name:"",blobUrl:e.fileContentBlobUrl}},function(e,t){return{handleClose:function(t){e(Rt(!1))},handleOpen:function(t){e(Rt(!0))},handleSave:function(t){return function(t,n){e(function(e,t){return function(n,a){var r=a().path;n(Ot(!0)),Le(r.join("/"),e,t).then(function(e){n(Rt(!1)),n($e()),n(Ot(!1))}).catch(function(e){n({type:"SET_ERROR_MSG",value:e.toString()}),n(Ot(!1))})}}(t,n))}}}})(Qa),tr=function(e){function t(){return Object(v.a)(this,t),Object(g.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.handleClose,n=e.handleSave,a=e.value,i=e.open;return r.a.createElement(Ua.a,{open:i,onClose:t,"aria-labelledby":"form-dialog-create-folder",fullWidth:!0,maxWidth:"sm"},r.a.createElement("form",null,r.a.createElement(Ga.a,{id:"form-dialog-create-folder"},"Create folder"),r.a.createElement(Fa.a,null,r.a.createElement(Wa.a,{autoFocus:!0,fullWidth:!0,margin:"dense",label:"Folder name",type:"text",value:a})),r.a.createElement(Ma.a,null,r.a.createElement(Xn.a,{onClick:t,color:"primary",type:"button"},"Cancel"),r.a.createElement(Xn.a,{color:"primary",type:"submit",onClick:n},"Save"))))}}]),t}(a.Component),nr=Object(o.b)(function(e){return{open:e.visibleDialogCreateFolder}},function(e,t){return{handleClose:function(t){e(Ct(!1))},handleSave:function(t){t.preventDefault();var n,a=t.currentTarget.form.querySelector("input").value;e((n=a,function(e,t){var a=t().path;e(Ot(!0)),_e(a.join("/"),n).then(function(t){e(Ct(!1)),e(Ot(!1)),e($e())}).catch(function(t){e({type:"SET_ERROR_MSG",value:t.toString()}),e(Ot(!1))})}))}}})(tr),ar=function(e){function t(){return Object(v.a)(this,t),Object(g.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.handleClose,n=e.handleCreate,a=e.value,i=e.open;return r.a.createElement(Ua.a,{open:i,onClose:t,"aria-labelledby":"form-dialog-create-file",fullWidth:!0,maxWidth:"sm"},r.a.createElement("form",null,r.a.createElement(Ga.a,{id:"form-dialog-create-file"},"Create file"),r.a.createElement(Fa.a,null,r.a.createElement(Wa.a,{autoFocus:!0,fullWidth:!0,margin:"dense",label:"File name",type:"text",value:a})),r.a.createElement(Ma.a,null,r.a.createElement(Xn.a,{onClick:t,color:"primary",type:"button"},"Cancel"),r.a.createElement(Xn.a,{color:"primary",type:"submit",onClick:n},"Create"))))}}]),t}(a.Component),rr=Object(o.b)(function(e){return{open:e.visibleDialogCreateFile}},function(e,t){return{handleClose:function(t){e(kt(!1))},handleCreate:function(t){t.preventDefault();var n=t.currentTarget.form.querySelector("input").value;e(function(e){return function(t,n){var a=n().path;t(Ot(!0)),Le(a.join("/"),e,"").then(function(n){t(kt(!1)),t($e()),je(a.join("/")).then(function(n){var a=n.find(function(t){return t.name===e||t.name===encodeURI(e)});t(vt([a])),t(Ke(a.name)),t(Rt(!0))})})}}(n))}}})(ar),ir=function(e){function t(){var e,n;Object(v.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(g.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r)))).state={value:""},n}return Object(O.a)(t,e),Object(E.a)(t,[{key:"componentWillReceiveProps",value:function(e){null!==e.item&&this.setState({value:e.item.name})}},{key:"handleChange",value:function(e){this.setState({value:e.currentTarget.form.querySelector("input").value})}},{key:"handleSave",value:function(e){this.props.handleSave(e)(this.props.item,this.state.value)}},{key:"render",value:function(){var e=this.state.value,t=this.props,n=t.handleClose,a=t.open;return r.a.createElement(Ua.a,{open:a,onClose:n,"aria-labelledby":"form-dialog-create-folder",fullWidth:!0,maxWidth:"sm"},r.a.createElement("form",null,r.a.createElement(Ga.a,{id:"form-dialog-create-folder"},"Rename"),r.a.createElement(Fa.a,null,r.a.createElement(Wa.a,{autoFocus:!0,fullWidth:!0,margin:"dense",label:"Item name",type:"text",onChange:this.handleChange.bind(this),value:e})),r.a.createElement(Ma.a,null,r.a.createElement(Xn.a,{onClick:n,color:"primary",type:"button"},"Cancel"),r.a.createElement(Xn.a,{color:"primary",type:"submit",onClick:this.handleSave.bind(this)},"Save"))))}}]),t}(a.Component),cr=Object(o.b)(function(e){return{open:e.visibleDialogRename,item:e.selectedItems.length?e.selectedItems[0]:null}},function(e,t){return{handleClose:function(t){e(wt(!1))},handleSave:function(t){return function(n,a){var r,i,c,l;t.preventDefault(),e(n instanceof I?(c=n.name,l=a,function(e,t){var n=t().path;e(Ot(!0)),ke(n.join("/"),c,l).then(function(t){e(wt(!1)),e(Ot(!1)),e($e())}).catch(function(t){e({type:"SET_ERROR_MSG",value:t.toString()}),e(Ot(!1))})}):(r=n.name,i=a,function(e,t){var n=t().path;e(Ot(!0)),Ce(n.join("/"),r,i).then(function(t){e(wt(!1)),e(Ot(!1)),e($e())}).catch(function(t){e({type:"SET_ERROR_MSG",value:t.toString()}),e(Ot(!1))})}))}}}})(ir),lr=function(e){function t(){return Object(v.a)(this,t),Object(g.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.item,n=e.handleClick,a=e.isSelected,i=e.handleDoubleClick,c={backgroundColor:a?Xt.a.A200:null};return r.a.createElement("div",{className:"File",onClick:n,"data-selected":a,onDoubleClick:i},r.a.createElement(Pt.a,null,r.a.createElement(Bt.a,null,r.a.createElement(Vt.a,{style:c},t instanceof w?r.a.createElement($t.a,null):r.a.createElement(zt.a,null))),r.a.createElement(At.a,{primary:t.name,secondary:""})))}}]),t}(a.Component),or=Object(o.b)(function(e,t){return{isSelected:e.selectedFolderSublist&&e.selectedFolderSublist.equals(t.item)}},function(e,t){return{handleDoubleClick:function(n){var a;e((a=t.item.name,function(e,t){e({type:"ENTER_TO_DIRECTORY_SUB_LIST",value:a}),e(Xe())})),e(Et(null))},handleClick:function(n){n.stopPropagation(),e(Et(t.item))}}})(Object(en.withStyles)(function(e){return{}})(lr)),ur=(n(492),function(e){function t(){return Object(v.a)(this,t),Object(g.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.itemList,n=e.loadingSublist,a=t.map(function(e,t){return r.a.createElement(or,{item:e,key:t})});return r.a.createElement("div",{className:"FileListSublist"},n?r.a.createElement(cn,null):a.length?a:r.a.createElement(Qt,null))}}]),t}(a.Component)),sr=Object(o.b)(function(e){return{itemList:e.itemListSublist.filter(function(e){return e instanceof I}).filter(function(t){return e.path.join("").trim()!==e.pathSublist.join("").trim()||!e.selectedItems.some(function(e){return e.equals(t)})}),loadingSublist:e.loadingSublist}},function(e){return{}})(ur),fr=function(e){function t(){return Object(v.a)(this,t),Object(g.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.selectedPath,n=e.handleClose,a=e.handleSave,i=e.open,c=e.selectedItems,l=e.canGoBack,o=e.canMove,u=e.handleGoBack;return r.a.createElement(Ua.a,{open:i,onClose:n,"aria-labelledby":"form-dialog-move",fullWidth:!0,maxWidth:"sm"},r.a.createElement("form",null,r.a.createElement(Ga.a,{id:"form-dialog-move"},"Move items to ",r.a.createElement("small",{style:{color:"grey"}},t.join("/"))),r.a.createElement(Fa.a,null,r.a.createElement(sr,null)),r.a.createElement(Ma.a,null,r.a.createElement(Xn.a,{onClick:u,color:"primary",type:"button",disabled:!l},r.a.createElement($n.a,null)," Go back directory"),r.a.createElement(Xn.a,{onClick:n,color:"primary",type:"button"},"Cancel"),r.a.createElement(Xn.a,{color:"primary",onClick:function(e){return a(e,c)},disabled:!o,type:"submit"},"Move"))))}}]),t}(a.Component),pr=Object(o.b)(function(e){var t=e.path.join("")!==e.pathSublist.join("")+(e.selectedFolderSublist?e.selectedFolderSublist.name:"");return{open:e.visibleDialogMove,selectedFolderSublist:e.selectedFolderSublist,selectedPath:e.selectedFolderSublist?[].concat(Object(s.a)(e.pathSublist),[e.selectedFolderSublist.name]):[],selectedItems:e.selectedItems,pathSublist:e.pathSublist,canGoBack:e.pathSublist.length,canMove:e.selectedFolderSublist&&t}},function(e,t){return{handleClose:function(t){e(Et(null)),e(It(!1))},handleSave:function(t,n){var a;e((a=n,function(e,t){var n=t(),r=n.path,i=n.pathSublist,c=n.selectedFolderSublist,l=i.join("/")+"/"+c.name,o=a.map(function(e){return e.name});e(Ot(!0)),we(r.join("/"),l,o).then(function(t){e(Ot(!1)),e(It(!1)),e($e())}).catch(function(t){e({type:"SET_ERROR_MSG",value:t.toString()}),e(Ot(!1))})}))},handleGoBack:function(t){e(Et(null)),e(ut())}}})(fr),mr=function(e){function t(){return Object(v.a)(this,t),Object(g.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.selectedPath,n=e.handleClose,a=e.handleSave,i=e.open,c=e.canGoBack,l=e.canCopy,o=e.selectedItems,u=e.handleGoBack;return r.a.createElement(Ua.a,{open:i,onClose:n,"aria-labelledby":"form-dialog-copy",fullWidth:!0,maxWidth:"sm"},r.a.createElement("form",null,r.a.createElement(Ga.a,{id:"form-dialog-copy"},"Copy files to ",r.a.createElement("small",{style:{color:"grey"}},t.join("/"))),r.a.createElement(Fa.a,null,r.a.createElement(sr,null)),r.a.createElement(Ma.a,null,r.a.createElement(Xn.a,{onClick:u,color:"primary",type:"button",disabled:!c},r.a.createElement($n.a,null)," Go back directory"),r.a.createElement(Xn.a,{onClick:n,color:"primary",type:"button"},"Cancel"),r.a.createElement(Xn.a,{color:"primary",onClick:function(e){return a(e,o)},disabled:!l,type:"submit"},"Copy"))))}}]),t}(a.Component),hr=Object(o.b)(function(e){var t=e.path.join("")!==e.pathSublist.join("")+(e.selectedFolderSublist?e.selectedFolderSublist.name:"");return{open:e.visibleDialogCopy,selectedFolderSublist:e.selectedFolderSublist,selectedPath:e.selectedFolderSublist?[].concat(Object(s.a)(e.pathSublist),[e.selectedFolderSublist.name]):[],canGoBack:e.pathSublist.length,canCopy:e.selectedFolderSublist&&t,selectedItems:e.selectedItems}},function(e,t){return{handleClose:function(t){e(Et(null)),e(Lt(!1))},handleSave:function(t,n){e(nt(n))},handleGoBack:function(t){e(Et(null)),e(ut())}}})(mr),dr=n(248),br=n.n(dr),vr=n(143),Er=n.n(vr);var gr=function(e){var t=e.files.map(function(e,t){return r.a.createElement(Pt.a,{dense:!0,key:t},r.a.createElement(Dn.a,null,r.a.createElement($t.a,null)),r.a.createElement(At.a,{primary:"".concat(e.name," (").concat(T(e.size),")")}))});return r.a.createElement("div",null,r.a.createElement(Er.a,{component:"nav"},t))},yr=function(e){function t(){return Object(v.a)(this,t),Object(g.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(E.a)(t,[{key:"handleReset",value:function(e){this.refs.inputfile.value="",this.props.handleReset(e)}},{key:"render",value:function(){var e=this.props,t=e.fileUploadList,n=e.handleSelectedFiles,a={inputfile:{},inputreset:{display:t.length?"inline-flex":"none"}};return r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"button-file"},r.a.createElement("input",{style:a.inputfile,id:"button-file",ref:"inputfile",multiple:!0,type:"file",onChange:n})),r.a.createElement(Xn.a,{style:a.inputreset,component:"span",type:"reset",onClick:this.handleReset.bind(this)},"Clear"),r.a.createElement(gr,{files:t}))}}]),t}(a.Component),Or=function(e){function t(){return Object(v.a)(this,t),Object(g.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.handleClose,n=e.handleReset,a=e.handleUpload,i=e.open,c=e.canUpload,l=e.fileUploadProgress,o=e.fileUploadList,u=e.handleSelectedFiles;return r.a.createElement(Ua.a,{open:i,onClose:t,"aria-labelledby":"form-dialog-upload",fullWidth:!0,maxWidth:"sm"},r.a.createElement("form",null,r.a.createElement(Ga.a,{id:"form-dialog-upload"},"Upload files"),r.a.createElement(Fa.a,null,r.a.createElement(yr,{handleUpload:a,fileUploadList:o,handleSelectedFiles:u,handleReset:n}),c?r.a.createElement(br.a,{variant:"determinate",value:l}):null),r.a.createElement(Ma.a,null,r.a.createElement(Xn.a,{onClick:t,color:"primary",type:"button"},"Cancel"),r.a.createElement(Xn.a,{color:"primary",onClick:a,disabled:!c,type:"submit"},"Upload"))))}}]),t}(a.Component),jr=Object(o.b)(function(e){return{open:e.visibleDialogUploadFile,canUpload:e.fileUploadList.length,fileUploadList:e.fileUploadList,fileUploadProgress:e.fileUploadProgress}},function(e,t){return{handleClose:function(t){e(it())},handleUpload:function(t){t.preventDefault();var n,a=t.currentTarget.form.querySelector("input[type=file]").files;e((n=a,function(e,t){var a=t().path;e(Ot(!0)),e(vt([])),e(Ut(50)),Ie(a.join("/"),n).then(function(t){e(Ut(100)),setTimeout(function(t){e(it())},300),e($e())}).catch(function(t){e({type:"SET_ERROR_MSG",value:t.toString()}),e(Ot(!1))})}))},handleSelectedFiles:function(t){e(Nt(Object(s.a)(t.target.files).map(function(e){return{name:e.name,size:e.size}})))},handleReset:function(t){e(Nt([]))}}})(Or);var Sr=function(e){return r.a.createElement("div",{className:"Dialogs"},r.a.createElement(Ha,null),r.a.createElement(qa,null),r.a.createElement(Ja,null),r.a.createElement(er,null),r.a.createElement(nr,null),r.a.createElement(rr,null),r.a.createElement(pr,null),r.a.createElement(hr,null),r.a.createElement(cr,null),r.a.createElement(jr,null))},Cr=n(249),kr=n.n(Cr),_r=n(250),wr=n.n(_r),Ir=function(e){function t(){return Object(v.a)(this,t),Object(g.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.errorMsg,a=e.handleClose,i=e.open,c=e.notificationDuration;return r.a.createElement("div",null,r.a.createElement(kr.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:i,autoHideDuration:c,onClose:a,ContentProps:{"aria-describedby":"message-id"},message:r.a.createElement("span",{id:"message-id"},n),action:[r.a.createElement(yn.a,{key:"close","aria-label":"Close",color:"inherit",className:t.close,onClick:a},r.a.createElement(wr.a,null))]}))}}]),t}(r.a.Component),Lr=Object(o.b)(function(e,t){return{open:!!e.errorMsg,errorMsg:e.errorMsg,notificationDuration:e.notificationDuration||6e4}},function(e,t){return{handleClose:function(t){e({type:"SET_ERROR_MSG",value:null})}}})(Object(en.withStyles)(function(e){return{close:{padding:e.spacing.unit/2}}})(Ir)),Tr=Object(en.createMuiTheme)({palette:{primary:Xt.a},typography:{useNextVariants:!0}}),xr=function(e){function t(){return Object(v.a)(this,t),Object(g.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){this.props.init()}},{key:"render",value:function(){return r.a.createElement(en.MuiThemeProvider,{theme:Tr},r.a.createElement("div",{onClick:this.props.handleHideContextMenu,onContextMenu:this.props.handleHideContextMenu},r.a.createElement(Zn,null),r.a.createElement(un,null),r.a.createElement(Ra,null),r.a.createElement(Lr,null),r.a.createElement(Sr,null)))}}]),t}(a.Component),Rr=Object(o.b)(function(e){return{}},function(e){return{init:function(){e(function(e,t){e(Ge()),e(He()),e(St(!0))})},handleHideContextMenu:function(t){"INPUT"===t.target.tagName||/label/i.test(t.target.className)||t.preventDefault(),e(yt(!1))}}})(xr),Dr=(n(501),n(502),Object(u.c)(h,Object(u.a)(l.a)));c.a.render(r.a.createElement(o.a,{store:Dr},r.a.createElement(Rr,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat(".","/service-worker.js");d?(function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):b(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):b(t,e)})}}()}},[[252,1,2]]]);
//# sourceMappingURL=main.58958b27.chunk.js.map